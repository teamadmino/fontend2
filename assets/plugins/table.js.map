{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap","./src/main.ts","./src/table/admino-table2/admino-table2.animation.ts","./src/table/admino-table2/admino-table2.buffer.ts","./src/table/admino-table2/admino-table2.component.ts","./src/table/admino-table2/admino-table2.component.html","./src/table/admino-table2/admino-table2.datasource.ts","./src/table/interactions/contextmenu.ts","./src/table/interactions/key-change.ts","./src/table/table.component.ts","./src/table/table.component.html","./src/table/table.module.ts","external \"ng.animations\"","external \"ng.common\"","external \"ng.core\"","external \"ng.platform-browser\"","external \"core.lodash\"","external \"core.rxjs\"","external \"core.rxjs.operators\"","external \"core.shared\"","external \"core.tslib\""],"names":[],"mappings":"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","file":"table.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"ng.animations\"), require(\"ng.common\"), require(\"ng.core\"), require(\"ng.platform-browser\"), require(\"core.lodash\"), require(\"core.rxjs\"), require(\"core.rxjs.operators\"), require(\"core.shared\"), require(\"core.tslib\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"ng.animations\", \"ng.common\", \"ng.core\", \"ng.platform-browser\", \"core.lodash\", \"core.rxjs\", \"core.rxjs.operators\", \"core.shared\", \"core.tslib\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"table\"] = factory(require(\"ng.animations\"), require(\"ng.common\"), require(\"ng.core\"), require(\"ng.platform-browser\"), require(\"core.lodash\"), require(\"core.rxjs\"), require(\"core.rxjs.operators\"), require(\"core.shared\"), require(\"core.tslib\"));\n\telse\n\t\troot[\"table\"] = factory(root[\"ng.animations\"], root[\"ng.common\"], root[\"ng.core\"], root[\"ng.platform-browser\"], root[\"core.lodash\"], root[\"core.rxjs\"], root[\"core.rxjs.operators\"], root[\"core.shared\"], root[\"core.tslib\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__angular_animations__, __WEBPACK_EXTERNAL_MODULE__angular_common__, __WEBPACK_EXTERNAL_MODULE__angular_core__, __WEBPACK_EXTERNAL_MODULE__angular_platform_browser__, __WEBPACK_EXTERNAL_MODULE_lodash__, __WEBPACK_EXTERNAL_MODULE_rxjs__, __WEBPACK_EXTERNAL_MODULE_rxjs_operators__, __WEBPACK_EXTERNAL_MODULE_shared__, __WEBPACK_EXTERNAL_MODULE_tslib__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\n    export * from './table/table.module';\n    import { TableModule } from './table/table.module';\n    export default TableModule;\n  ","import { trigger, sequence, state, animate, transition, style, animateChild, query, group, stagger } from \"@angular/animations\";\n\nconst inEasing = \" ease-in\";\nconst outEasing = \" ease-out\";\nconst inOutEasing = \" cubic-bezier(.75,-0.5,0,1.75)\";\nconst elastic = \" cubic-bezier(.42,1.4,.58,1.01)\";\n\nexport const adminoTableAnimation = trigger(\"adminoTableRowAnimation\", [\n  transition(\"* => true\", [query(\".cell-content\", [style({ opacity: 0 }), animate(\"0.2s\", style({ opacity: 1 }))])]),\n  // , transform: 'translateX(0px)'\n  // transition(':leave', [\n  //     animate('0.2s', style({ opacity: 0 }))\n  // ])\n]);\n","export class AdminoTableBufferData {\n  index: number;\n  data: any;\n  bufferindex: number;\n}\nexport class AdminoTableBuffer {\n  container = [];\n  maxBufferSize = 10000;\n\n  set(index, data) {\n    const bufferindex = index % this.maxBufferSize;\n    const bufferdata = this.container[bufferindex];\n    if (bufferdata) {\n      bufferdata.index = index;\n      bufferdata.data = data;\n      bufferdata.bufferindex = bufferindex;\n    } else {\n      this.container[bufferindex] = { index, data, bufferindex };\n    }\n  }\n  get(index) {\n    const bufferdata = this.container[index % this.maxBufferSize];\n    if (bufferdata) {\n      if (bufferdata.index !== index) {\n        if (bufferdata.data) {\n          delete bufferdata.data;\n          bufferdata.index = index;\n        }\n      }\n      // // console.log(bufferdata.index, index);\n    }\n    return bufferdata;\n  }\n  clear(startIndex, endIndex) {\n    const start = startIndex <= endIndex ? startIndex : endIndex;\n    const end = startIndex <= endIndex ? endIndex : startIndex;\n    for (let index = start; index <= end; index++) {\n      const bufferdata = this.container[index % this.maxBufferSize];\n      if (bufferdata) {\n        // bufferdata.index = index;\n        // if (bufferdata.data) {\n        //     // for (const key of Object.keys(bufferdata.data)) {\n        //     delete bufferdata.data;\n        //     // }\n        // }\n        console.log(\"delete,\", bufferdata.data);\n        for (const key of Object.keys(bufferdata)) {\n          delete bufferdata[key];\n        }\n        // delete bufferdata.data;\n      }\n    }\n  }\n  clearAll() {\n    this.container.forEach((bdata) => {\n      const bufferdata = bdata;\n      if (bufferdata) {\n        bufferdata.index = -1;\n        for (const key of Object.keys(bufferdata)) {\n          delete bufferdata[key];\n        }\n      }\n    });\n  }\n  // // get element at index 11 (you want the 11th item in the array)\n  // eleventh = container[(index + 11) % maxlen];\n\n  // // get element at index 11 (you want the 11th item in the array)\n  // thirtyfifth = container[(index + 35) % maxlen];\n\n  // // print out all 100 elements that we have left in the array, note\n  // // that it doesn't matter if we address past 100 - circular buffer\n  // // so we'll simply get back to the beginning if we do that.\n  // for(i = 0; i < 200; i++) {\n  // document.write(container[(index + i) % maxlen] + \"<br>\\n\");\n\n  // // private cache: Map<any, EmbeddedViewRef<any>> = new Map<any, EmbeddedViewRef<any>>();\n  // private collectionCache = [];\n  // fillSpaces(start, end) {\n  //     let a = 0;\n  //     for (let i = start; i < end; i++) {\n  //         const el = this.collectionCache[i];\n  //         if (!el) {\n  //             this.collectionCache[i] = {};\n  //         }\n  //         a++;\n  //     }\n  // }\n  // clearData() {\n  //     Object.keys(this.collectionCache).forEach((key) => {\n  //         delete this.collectionCache[key];\n  //     });\n  // }\n  // patchData(data) {\n  //     Object.keys(data).forEach((key) => {\n  //         if (!this.collectionCache[key]) {\n  //             this.collectionCache[key] = {};\n  //         }\n  //         Object.assign(this.collectionCache[key], data[key]);\n  //     });\n  //     // console.log(this.cache);\n\n  // }\n}\n","import { cloneDeep } from \"lodash\";\nimport { AdminoTable2DataSource, VirtualDataSourceInfoColumn } from \"./admino-table2.datasource\";\nimport {\n  Component,\n  OnInit,\n  ViewChild,\n  ElementRef,\n  AfterViewInit,\n  HostListener,\n  ChangeDetectorRef,\n  Input,\n  OnDestroy,\n  EventEmitter,\n  Output,\n  ChangeDetectionStrategy,\n} from \"@angular/core\";\nimport { takeUntil } from \"rxjs/operators\";\nimport { Subject } from \"rxjs\";\nimport { FormatService } from \"shared\";\nimport { adminoTableAnimation } from \"./admino-table2.animation\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\n// import { AdminoTooltipService } from \"../../admino-tooltip/admino-tooltip.service\";\nimport { AdminoTableBufferData } from \"./admino-table2.buffer\";\n// import { AdminoThemeService } from \"admino/src/lib/services/theme.service\";\n\nexport interface VirtualRow {\n  virtualId: number;\n  absoluteId: number;\n  pos: number;\n  data?: any;\n  processedData?: any;\n  prevdata?: any;\n}\n\n@Component({\n  selector: \"admino-table2\",\n  templateUrl: \"./admino-table2.component.html\",\n  styleUrls: [\"./admino-table2.component.scss\"],\n  animations: [adminoTableAnimation],\n  // changeDetection: ChangeDetectionStrategy.OnPush,\n\n  // changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AdminoTable2Component implements OnInit, AfterViewInit, OnDestroy {\n  private ngUnsubscribe: Subject<null> = new Subject();\n  @Output() valueChange: EventEmitter<any> = new EventEmitter();\n  @Output() cellClick: EventEmitter<any> = new EventEmitter();\n  @Output() cellChange: EventEmitter<any> = new EventEmitter();\n  @Output() cellDoubleClick: EventEmitter<any> = new EventEmitter();\n  @Output() headerCellClick: EventEmitter<any> = new EventEmitter();\n  @Output() cellContextMenu: EventEmitter<any> = new EventEmitter();\n\n  @Input() dataSource: AdminoTable2DataSource;\n  _columns: any[];\n  @Input() public set columns(v: any) {\n    this._columns = v;\n    this.updateColumns();\n  }\n  public get columns(): any {\n    return this._columns;\n  }\n  _indexes: any[];\n  @Input() public set indexes(v: any) {\n    this._indexes = v;\n    this.dataSource.indexes = this.indexes;\n  }\n  public get indexes(): any {\n    return this._indexes;\n  }\n  _autoRefresh = 0;\n  @Input() public set autoRefresh(v: any) {\n    this._autoRefresh = v;\n    this.dataSource.autoRefresh = this.autoRefresh;\n    this.dataSource.setAutoRefresh();\n  }\n  public get autoRefresh(): any {\n    return this._autoRefresh;\n  }\n\n  @ViewChild(\"tableRef\", { read: ElementRef, static: true }) tableRef;\n  @ViewChild(\"scrollerRef\", { read: ElementRef, static: true }) scrollerRef;\n  @ViewChild(\"fakeContentRef\", { read: ElementRef, static: true })\n  fakeContentRef;\n  @ViewChild(\"scrollerContentRef\", { read: ElementRef, static: true })\n  scrollerContentRef;\n  @ViewChild(\"bodyRef\", { static: true }) bodyRef: ElementRef;\n  @ViewChild(\"headerRef\") headerRef: ElementRef;\n  @ViewChild(\"mainRef\", { static: true }) mainRef: ElementRef;\n\n  columnWidths = [];\n  colPositions = [];\n  stickyBreakpoints = [];\n  cumulatedColumnWidth = 0;\n  sortedColumn;\n\n  vrows: VirtualRow[] = [];\n  @Input() oddRowStyle: any = {};\n  @Input() headerHeight = 50;\n  @Input() rowHeight = 50;\n  @Input() hideHeader = false;\n  @Input() debug = false;\n  @Input() selectedRowStyle = {};\n  @Input() selectedCellStyle = {};\n  @Input() rowMenu = {};\n  @Input() inactiveSelectedRowStyle = {};\n  @Input() inactiveSelectedCellStyle = {};\n  @Input() navigationCellStyle = {};\n  @Input() inactiveNavigationCellStyle = {};\n\n  viewportSize = 0;\n  browserMaxSize = 0;\n\n  // largePagination\n  largePage = 0;\n  calculatedLargePageSize = 30000;\n  largePageSize = 0;\n  lastLargePage = 0;\n  rowCountOnLastLargePage = 0;\n  notfittingRowHeight = 0;\n  // smallPagination\n  smallPage = 0;\n  visibleRowCount = 0;\n\n  scrollPos = 0;\n  maxScrollPos = 0;\n  prevScrollPos = 0;\n  scrollPosCoeff = 0;\n  scrollPosCoeffNormal = 0;\n  scrollBarWidth = 0;\n  largePageCoeff = 0;\n  //\n  totalsize = -1;\n  adjustedTotalsize = 0;\n\n  scrollPercent = 1;\n  fakeScrollerHeight = 0;\n  manualScroll = false;\n\n  rowStart = 0;\n  rowEnd = 0;\n  prevRowStart = -1;\n  prevRowEnd = -1;\n\n  asd = 100;\n  timeoutHelper;\n  leavespace = 2;\n\n  activeRow = 0;\n  activeRowPos = 0;\n  @Input() keyOverrides: { trigger: string; key: string }[] = [];\n  @Input() isFocused = false;\n\n  scrollDirection;\n\n  // @HostListener('window:resize', ['$event'])\n  resize(event: MouseEvent) {\n    // this.updateSize();\n    this.scrollEvent();\n    this.reinit();\n  }\n  @HostListener(\"document:mouseup\", [\"$event\"])\n  mouseUp(event: MouseEvent) {\n    this.manualScroll = false;\n  }\n  @HostListener(\"keydown\", [\"$event\"]) onKeydownHandler(event: KeyboardEvent) {\n    if (\n      this.keyOverrides.find((override) => {\n        return override.key === \"any\" || (override.key === event.key && override.trigger === \"keydown\");\n      })\n    ) {\n      console.log(\"OVERRIDE\");\n      return;\n    }\n\n    let cursorpos = this.dataSource.state.cursorpos;\n\n    const leavespace = 2;\n    switch (event.key) {\n      case \"ArrowDown\":\n        this.goDownBy(1);\n        event.preventDefault();\n        break;\n      case \"ArrowUp\":\n        this.goUpBy(1);\n        event.preventDefault();\n\n        break;\n      case \"Home\":\n        this.gotoPos(0);\n        this.setActiveRow(0);\n        // this.dataSource.state.keys = { '#position': 'first' };\n        // this.dataSource.state.cursorpos = 0;\n        // this.dataSource.loadData().then(() => {\n        //   this.gotoPos(this.dataSource.viewpos);\n        // });\n        event.preventDefault();\n        break;\n      case \"End\":\n        this.gotoPos(this.adjustedTotalsize);\n        this.setActiveRow(this.totalsize - 1);\n        // this.dataSource.state.keys = { '#position': 'last' };\n        // this.dataSource.loadData().then(() => {\n        //   this.gotoPos(this.dataSource.viewpos);\n        // });\n        event.preventDefault();\n        break;\n      case \"PageUp\":\n        if (this.activeRow > this.rowStart && this.activeRow < this.rowEnd) {\n          this.goUpBy(this.activeRow - this.rowStart);\n        } else {\n          this.goUpBy(this.visibleRowCount - 2);\n        }\n        event.preventDefault();\n        break;\n      case \"PageDown\":\n        if (this.activeRow > this.rowStart && this.activeRow < this.rowEnd) {\n          this.goDownBy(this.rowEnd - this.activeRow);\n        } else {\n          this.goDownBy(this.visibleRowCount - 2);\n        }\n        event.preventDefault();\n        break;\n      case \"Enter\":\n        this.setSelected(this.dataSource.buffer.get(this.activeRow), this.dataSource.state.navigationColumnIndex, \"cellDoubleClick\");\n        event.preventDefault();\n        break;\n      case \" \":\n        this.setSelected(this.dataSource.buffer.get(this.activeRow), this.dataSource.state.navigationColumnIndex, \"cellClick\");\n        event.preventDefault();\n        break;\n      case \"ArrowRight\":\n        if (this.dataSource.state.navigationColumnIndex < this.dataSource.columns.length - 1) {\n          this.dataSource.state.navigationColumnIndex++;\n          this.handleCellChange();\n        }\n        event.preventDefault();\n        break;\n      case \"ArrowLeft\":\n        console.log(this.dataSource.state.navigationColumnIndex);\n\n        if (this.dataSource.state.navigationColumnIndex > 0) {\n          this.dataSource.state.navigationColumnIndex--;\n          this.handleCellChange();\n        }\n        event.preventDefault();\n        break;\n\n      default:\n        break;\n    }\n  }\n  goDownBy(num: number) {\n    if (this.totalsize <= 1) {\n      return;\n    }\n    if (this.activeRow < this.rowStart) {\n      this.gotoPos(this.activeRow);\n    } else if (this.activeRow > this.rowEnd && this.rowEnd !== this.totalsize - 1) {\n      this.gotoPos(this.activeRow - this.visibleRowCount + 2, true);\n    } else {\n      if (this.activeRow + num < this.totalsize) {\n        this.activeRow += num;\n      } else {\n        this.activeRow = this.totalsize - 1;\n      }\n      if (this.activeRow > this.rowEnd - 1) {\n        this.gotoPos(this.activeRow - this.visibleRowCount + 2, true);\n      }\n    }\n    this.dataSource.state.navigationRowIndex = this.activeRow;\n  }\n  goUpBy(num: number) {\n    console.log(\"up\");\n    if (this.activeRow < this.rowStart) {\n      this.gotoPos(this.activeRow);\n    } else if (this.activeRow > this.rowEnd && this.rowEnd !== this.totalsize - 1) {\n      console.log(this.activeRow, this.totalsize, this.rowEnd);\n      this.gotoPos(this.activeRow - this.visibleRowCount + 2, true);\n    } else {\n      if (this.activeRow - num >= 0) {\n        this.activeRow -= num;\n      } else {\n        this.activeRow = 0;\n      }\n      if (this.activeRow <= this.rowStart) {\n        if (this.activeRow === this.rowStart && this.rowEnd === this.totalsize - 1) {\n          this.setToExactRow(1);\n        } else if (this.rowEnd === this.totalsize - 1) {\n          this.setToExactRow(-1);\n        } else {\n          this.setToExactRow(1);\n        }\n      }\n      if (this.activeRow < this.rowStart) {\n        this.gotoPos(this.activeRow);\n      }\n    }\n    this.dataSource.state.navigationRowIndex = this.activeRow;\n  }\n\n  setToExactRow(dir) {\n    const remainder = this.tableRef.nativeElement.scrollTop % this.rowHeight;\n    if (remainder !== 0) {\n      if (dir < 0) {\n        this.tableRef.nativeElement.scrollTop -= remainder - this.rowHeight;\n      } else {\n        this.tableRef.nativeElement.scrollTop -= remainder;\n      }\n    }\n  }\n  // setToExactRowFromBottom(dir) {\n  //   const remainder = this.tableRef.nativeElement.scrollTop % this.rowHeight;\n  //   if (remainder !== 0) {\n  //     if (dir < 0) {\n  //       this.tableRef.nativeElement.scrollTop -= remainder - this.rowHeight;\n  //     } else {\n  //       this.tableRef.nativeElement.scrollTop -= remainder;\n  //     }\n  //   }\n  // }\n\n  relativeScroll(px) {\n    this.tableRef.nativeElement.scrollTop += px;\n    // this.setToExactRow(px);\n  }\n\n  getKeyAtCursor(cursorpos) {\n    if (this.dataSource.data && this.dataSource.data.data[cursorpos]) {\n      return this.dataSource.data.data[cursorpos];\n    }\n  }\n  setKeys(data: any) {\n    this.dataSource.setKeys(data);\n    this.valueChange.next(this.dataSource.state);\n  }\n\n  constructor(\n    public cd: ChangeDetectorRef,\n    public formatService: FormatService,\n    private sanitizer: DomSanitizer // private tooltip: AdminoTooltipService, // private ts: AdminoThemeService\n  ) {}\n\n  ngOnInit() {\n    this.browserMaxSize = this.calcMaxBrowserScrollSize();\n    this.scrollBarWidth = 7;\n    // this.getScrollbarWidth();\n  }\n  ngAfterViewInit() {\n    // setTimeout((params) => {\n    //   this.gotoPos(29);\n    //   this.setActiveRow(37)\n    // }, 1000)\n    this.dataSource.loadDataStart.pipe(takeUntil(this.ngUnsubscribe)).subscribe((value) => {\n      this.valueChange.next(value);\n    });\n\n    this.dataSource\n      .connect()\n      .pipe(takeUntil(this.ngUnsubscribe))\n      .subscribe((data) => {\n        if (data) {\n          if (this.totalsize !== this.dataSource.totalsize) {\n            this.totalsize = this.dataSource.totalsize;\n            this.updateSize();\n            this.pageChange();\n            this.cd.detectChanges();\n            this.calculateWidths();\n          }\n          this.updateRows();\n          this.refreshVrows();\n          this.cd.detectChanges();\n        }\n        this.valueChange.next(this.dataSource.state);\n      });\n    this.reinit();\n\n    this.timeoutHelper = setTimeout((params) => {\n      this.reinit();\n      this.updateDataSource(true);\n    });\n  }\n  reinit() {\n    this.updateSize();\n    this.updateRows();\n    this.pageChange();\n    this.cd.detectChanges();\n    this.calculateWidths();\n    this.prevRowStart = this.rowStart;\n    this.prevRowEnd = this.rowEnd;\n  }\n\n  onContextMenu(e, vrow, i) {\n    this.setSelected(vrow.data, i);\n    this.cellContextMenu.next({\n      keys: vrow.data?.data?.origData,\n      rowAbsoluteIndex: vrow.absoluteId,\n      column: i,\n      mouseX: e.pageX,\n      mouseY: e.pageY,\n    });\n  }\n\n  setSelectedHeader(columnIndex) {\n    this.dataSource.state.selectedHeaderColumnIndex = columnIndex;\n    this.headerCellClick.next();\n  }\n  setActiveRow(index, posInView = null) {\n    this.activeRow = index;\n    this.activeRowPos = 0;\n    this.dataSource.state.navigationRowIndex = this.activeRow;\n  }\n\n  setSelected(bufferdata: AdminoTableBufferData, columnIndex = null, fireEvent: \"cellClick\" | \"cellDoubleClick\" = null) {\n    if (bufferdata && bufferdata.data && bufferdata.data.processedData) {\n      this.dataSource.cursorAbsPos = bufferdata.index;\n      this.activeRow = bufferdata.index;\n      this.dataSource.state.navigationRowIndex = this.activeRow;\n      this.setPrevValues();\n      this.setKeys(bufferdata.data.origData);\n      // this.dataSource.state.keys = bufferdata.index - this.rowStart;\n      if (columnIndex !== null) {\n        this.dataSource.state.selectedColumnIndex = columnIndex;\n        this.dataSource.state.navigationColumnIndex = columnIndex;\n      }\n      if (fireEvent === \"cellClick\") {\n        this.cellClick.next();\n      } else if (fireEvent === \"cellDoubleClick\") {\n        this.cellDoubleClick.next();\n      }\n    }\n    this.handleCellChange();\n    this.cd.detectChanges();\n  }\n  setPrevValues() {\n    this.dataSource.state.prevKeys = this.dataSource.state.keys;\n    this.dataSource.state.prevSelectedColumnIndex = this.dataSource.state.selectedColumnIndex;\n  }\n  handleCellChange() {\n    const col = this.dataSource.state.navigationColumnIndex;\n    const getpos = this.columnWidths.reduce((prev, curr, i) => (i < col ? prev + curr : prev), 0);\n    const getw = this.columnWidths[col];\n    const getwpos = getpos + getw;\n    const vpw = this.tableRef.nativeElement.clientWidth;\n    const sp = this.tableRef.nativeElement.scrollLeft;\n\n    if (getwpos > sp + vpw) {\n      this.tableRef.nativeElement.scrollLeft = getpos - (vpw - getw);\n    } else if (getpos < sp) {\n      this.tableRef.nativeElement.scrollLeft = getpos;\n    }\n\n    this.cellChange.next();\n  }\n  gotoPos(absoluteId = 0, bottomFixed = false) {\n    let lastRowFix = 0;\n    if (absoluteId >= this.adjustedTotalsize) {\n      absoluteId = this.adjustedTotalsize - 0.0001;\n      lastRowFix = this.notfittingRowHeight;\n    }\n\n    const targetPage = this.largePageSize > 0 ? Math.floor(absoluteId / this.largePageSize) : 0;\n    this.largePage = targetPage;\n    this.pageChange();\n    // + this.notfittingRowHeight\n    const remainder = this.largePageSize > 0 ? absoluteId % this.largePageSize : 0;\n    this.scrollPos = this.tableRef.nativeElement.scrollTop =\n      (remainder + this.largePageCoeff) * this.rowHeight +\n      lastRowFix +\n      (bottomFixed && this.notfittingRowHeight !== this.rowHeight ? this.notfittingRowHeight : 0);\n    // && absoluteId > this.adjustedTotalsize - 1;\n    // this.updateRows();\n    this.updateRowStartEnd();\n    // this.refreshVrows();\n  }\n  showIndicator() {\n    // this.vrows.push({ virtualId: this.vrows.length, absoluteId: this.vrows.length, pos: 0 });\n    const rowend = this.rowEnd > this.totalsize - 1 ? this.totalsize - 1 : this.rowEnd;\n    const searchRowId = this.scrollDirection >= 1 ? rowend : this.rowStart;\n    const found = this.vrows.find((vrow) => {\n      return vrow.absoluteId === searchRowId;\n    });\n    return (found && found.data && found.data.data && found.data.data.origData) || this.dataSource.totalsize <= 0 ? false : true;\n  }\n  scrollbarMouseDown() {\n    this.manualScroll = true;\n  }\n  scrollbarScroll(e) {\n    if (this.manualScroll) {\n      const target =\n        (this.scrollerRef.nativeElement.scrollTop /\n          (this.scrollerRef.nativeElement.scrollHeight - this.scrollerRef.nativeElement.clientHeight)) *\n        this.adjustedTotalsize;\n      this.gotoPos(target);\n    }\n  }\n  scrollEvent() {\n    this.scrollPos = this.tableRef.nativeElement.scrollTop;\n    this.scrollDirection = this.prevScrollPos > this.scrollPos ? -1 : 1;\n    // console.log(\"this.tableRef.nativeElement.scrollTop\", this.tableRef.nativeElement.scrollTop)\n    // console.log(this.largePage, this.lastLargePage)\n    // console.log((this.rowCountOnLastLargePage + 1) * this.rowHeight - 1)\n    const scrollmax =\n      (this.rowCountOnLastLargePage + 1) * this.rowHeight +\n      (this.notfittingRowHeight !== this.rowHeight ? this.notfittingRowHeight - 1 : 0);\n    if (this.largePage === this.lastLargePage && this.scrollPos >= scrollmax) {\n      this.scrollPos = this.tableRef.nativeElement.scrollTop = scrollmax;\n      // console.log(\"scrollmaxoverride\")\n    }\n\n    // && this.adjustedTotalsize > (this.lpage + 1) * this.lpageSize\n    // console.log(\"scrollpos\", this.scrollPos, \"maxscrollpos\", this.maxScrollPos)\n    if (this.scrollPos >= this.maxScrollPos && this.largePage < this.lastLargePage) {\n      const overshoot = Math.abs(this.maxScrollPos - this.scrollPos);\n      this.largePage++;\n      this.pageChange();\n      console.log(\"pageChange up\", overshoot);\n      this.scrollPos = this.tableRef.nativeElement.scrollTop = this.largePage <= 1 ? this.rowHeight : overshoot + 1;\n    } else if (this.scrollPos <= 0 && this.largePage > 0) {\n      const undershoot = Math.abs(this.scrollPos);\n      this.largePage--;\n      this.pageChange();\n      console.log(\"pageChange down\", undershoot);\n      this.scrollPos = this.tableRef.nativeElement.scrollTop =\n        this.largePage >= 1 ? this.maxScrollPos - 1 : this.maxScrollPos - this.rowHeight - undershoot;\n    }\n\n    // this.scrollPosCoeffNormal + this.rowCount + ((this.rowCount) * this.spage)\n    //   + this.lpage * (this.lpageSize - 1) + this.lpageCoeff * (this.lpage - 1);\n    // console.log(this.scrollPos / this.maxScrollPos);\n    // console.log(absPos);\n    // this.scrollPercent =this.scrollPos;\n    this.updateRows();\n\n    this.scrollPercent = this.rowStart / this.adjustedTotalsize;\n    if (!this.manualScroll) {\n      this.scrollerRef.nativeElement.scrollTop = (this.maxScrollPos + this.notfittingRowHeight) * this.scrollPercent;\n    }\n\n    this.updateDataSource();\n    // if (this.scrollPos >= this.rowHeight * this.bufferSize) {\n    //   this.tableRef.nativeElement.scrollTop = this.rowHeight;\n    //   this.lpage++;\n    // }\n    this.prevScrollPos = this.scrollPos;\n\n    if (this.headerRef) {\n      this.headerRef.nativeElement.style.marginLeft = -this.tableRef.nativeElement.scrollLeft + \"px\";\n    }\n\n    // console.log(\"scrollpos after\", this.scrollPos, \"maxscrollpos\", this.maxScrollPos)\n  }\n\n  updateDataSource(force = false) {\n    const currentLoadedStart = this.dataSource.viewpos;\n    const currentLoadedEnd = this.dataSource.viewpos + this.dataSource.state.count;\n\n    if (force || currentLoadedStart !== this.rowStart || currentLoadedEnd !== this.rowEnd) {\n      this.refreshVrows();\n      const rowCount = Math.ceil(this.viewportSize / this.rowHeight) + 1;\n      const count = Math.max(this.visibleRowCount - 2, rowCount - 2);\n      this.dataSource.state.count = count;\n\n      // this.dataSource.state.cursorpos = -(this.rowStart - this.dataSource.cursorAbsPos);\n      this.dataSource.state.cursorpos = this.dataSource.cursorAbsPos - this.rowStart;\n      // this.dataSource.loadData();\n      this.dataSource.triggerLoadData.next();\n      this.cd.detectChanges();\n    }\n  }\n  isEllipsisActive(e) {\n    // return true;\n    return e.offsetWidth < e.scrollWidth;\n  }\n  pageChange() {\n    this.maxScrollPos = Math.floor(this.largePageSize * this.rowHeight);\n\n    this.fakeScrollerHeight = this.maxScrollPos + (this.visibleRowCount - 1) * this.rowHeight;\n    this.fakeContentRef.nativeElement.style.height = this.fakeScrollerHeight + \"px\";\n\n    if (this.largePage > this.lastLargePage) {\n      this.largePage = this.lastLargePage;\n      this.scrollPos = this.tableRef.nativeElement.scrollTop = this.rowCountOnLastLargePage * this.rowHeight - 1;\n    }\n    this.largePageCoeff = this.largePage - 1 >= 0 ? 1 : 0;\n  }\n  updateSize() {\n    if (this.activeRow > this.totalsize - 1) {\n      this.activeRow = this.totalsize - 1;\n    } else if (this.activeRow < 0) {\n      this.activeRow = 0;\n    }\n    // this.calculateWidths();\n    // this.cd.detectChanges();\n    // this.tableRef.nativeElement.style.paddingRight = this.scrollBarWidth + 'px';\n    this.viewportSize = this.tableRef.nativeElement.clientHeight;\n    // const count = Math.floor(this.viewportSize / this.rowHeight);\n    // this.rowHeight = Math.ceil(this.viewportSize / (count * this.rowHeight) * this.rowHeight);\n\n    this.visibleRowCount = Math.ceil(this.viewportSize / this.rowHeight) + 1;\n    if (this.totalsize === -1) {\n      this.totalsize = this.visibleRowCount;\n      // console.log(\"totatlsiz\", this.tableRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.clientHeight)\n    }\n    this.visibleRowCount = this.visibleRowCount > this.totalsize ? this.totalsize : this.visibleRowCount;\n\n    // this.notfittingRowHeight = (Math.ceil(this.viewportSize / this.rowHeight) * this.rowHeight) - this.viewportSize;\n    this.notfittingRowHeight = this.rowHeight - (this.viewportSize % this.rowHeight);\n\n    this.calculatedLargePageSize = Math.floor((this.browserMaxSize * 0.5) / this.rowHeight);\n    this.calculatedLargePageSize = 15000;\n    this.adjustedTotalsize = this.totalsize - (this.visibleRowCount - 1);\n    this.lastLargePage = Math.floor(this.adjustedTotalsize / this.calculatedLargePageSize);\n    this.rowCountOnLastLargePage = this.adjustedTotalsize % this.calculatedLargePageSize;\n    this.largePageSize = this.adjustedTotalsize > this.calculatedLargePageSize ? this.calculatedLargePageSize : this.adjustedTotalsize;\n    // this.dataSource.buffer.maxBufferSize = this.lpageSize;\n    // this.dataSource.buffer.maxBufferSize = 100;\n    // this.lastPage = this.lpageSize - 1 > 0 ? Math.floor(this.totalsize / (this.lpageSize - 1)) : 0;\n    // this.rowCountOnLastPage = this.lpageSize >= this.adjustedTotalsize ? this.adjustedTotalsize : this.adjustedTotalsize % this.lpageSize;\n\n    // if totalsize changes and table was already scrolled\n\n    // this.vrows = []\n    // for (let i = 0; i < this.visibleRowCount; i++) {\n    //   this.vrows.push({ virtualId: this.vrows.length, absoluteId: this.vrows.length, pos: 0 });\n    // }\n\n    const rowDifference = Math.abs(this.visibleRowCount - this.vrows.length);\n    if (this.vrows.length < this.visibleRowCount) {\n      for (let i = 0; i < rowDifference; i++) {\n        // this.vrows[i] = { virtualId: i, absoluteId: i, pos: 0 };\n        this.vrows.push({\n          virtualId: this.vrows.length,\n          absoluteId: this.vrows.length,\n          pos: 0,\n        });\n      }\n    } else if (this.vrows.length > this.visibleRowCount) {\n      for (let i = 0; i < rowDifference; i++) {\n        this.vrows.pop();\n      }\n    }\n    this.vrows.forEach((vrow) => {\n      vrow.pos = 0;\n    });\n\n    this.maxScrollPos = Math.floor(this.largePageSize * this.rowHeight);\n    // this.fakeContentRef.nativeElement.style.height = this.maxScrollPos + (this.rowCount - 1) * this.rowHeight + 'px';\n    this.scrollerContentRef.nativeElement.style.height =\n      this.largePageSize * this.rowHeight + (this.visibleRowCount - 1) * this.rowHeight + \"px\";\n    // this.tableRef.nativeElement.clientHeight * 5 + 'px';\n    // this.fakeContentRef.nativeElement.style.width = 1 + 'px';\n    // this.fakeContentRef.nativeElement.style.background = 'red';\n\n    // this.cd.detectChanges();\n    // this.calculateWidths();\n  }\n\n  updateRowStartEnd() {\n    this.scrollPosCoeff = Math.floor(this.scrollPos / this.rowHeight);\n    this.smallPage = Math.floor(this.scrollPosCoeff / this.visibleRowCount);\n    this.scrollPosCoeffNormal = this.scrollPosCoeff - this.smallPage * this.visibleRowCount;\n\n    this.rowStart = this.scrollPosCoeff + this.largePage * this.largePageSize - this.largePageCoeff;\n    this.rowEnd = Math.max(this.rowStart + this.visibleRowCount - 1 - 1, this.rowStart);\n  }\n  updateRows() {\n    this.updateRowStartEnd();\n    for (const vrow of this.vrows) {\n      this.updateRow(vrow);\n    }\n    // this.refreshVrows();\n  }\n  updateRow(vrow: VirtualRow) {\n    // const possibleAbsId = vrow.virtualId + this.visibleRowCount + ((this.visibleRowCount) * this.smallPage)\n    //   + this.largePage * (this.largePageSize - 1) + this.largePageCoeff * (this.largePage - 1);\n\n    let possibleAbsId =\n      vrow.virtualId +\n      this.visibleRowCount * this.smallPage +\n      this.largePage * (this.largePageSize - 1) +\n      this.largePageCoeff * (this.largePage - 1);\n    // && possibleAbsId <= this.totalsize - 1\n    if (vrow.virtualId < this.scrollPosCoeffNormal) {\n      possibleAbsId += this.visibleRowCount;\n      // console.log('jump', vrow.virtualId)\n\n      if (possibleAbsId < this.totalsize) {\n        vrow.absoluteId = possibleAbsId;\n        // console.log(\"sethere\")\n        // console.log(vrow.absoluteId)\n        vrow.pos =\n          vrow.virtualId * this.rowHeight + this.visibleRowCount * this.rowHeight + this.smallPage * this.rowHeight * this.visibleRowCount;\n      }\n    } else {\n      vrow.absoluteId = possibleAbsId;\n\n      if (vrow.absoluteId < this.totalsize) {\n        vrow.pos = vrow.virtualId * this.rowHeight + this.smallPage * this.rowHeight * this.visibleRowCount;\n      }\n    }\n  }\n\n  refreshVrows() {\n    for (const vrow of this.vrows) {\n      const d = this.dataSource.buffer.get(vrow.absoluteId);\n      vrow.data = d;\n    }\n  }\n\n  calculateScrollers() {\n    let showX = \"hidden\";\n    if (this.tableRef && this.tableRef.nativeElement) {\n      showX = this.cumulatedColumnWidth > this.tableRef.nativeElement.clientWidth ? \"scroll\" : \"hidden\";\n    }\n    return {\n      \"overflow-x\": showX,\n    };\n  }\n\n  calculateWidths() {\n    // console.log(this.bodyRef.nativeElement.clientWidth, this.dataSource.state.keys);\n    if (!(this.bodyRef.nativeElement as HTMLElement).children[0]) {\n      console.log(\"returned\");\n      return;\n    }\n    const fullWidth = this.bodyRef.nativeElement.clientWidth;\n    this.scrollBarWidth = this.tableRef.nativeElement.offsetWidth - this.tableRef.nativeElement.clientWidth;\n    this.scrollerRef.nativeElement.style.width = this.scrollBarWidth + \"px\";\n\n    // console.log(this.scrollBarWidth);\n    // const trArr = (this.bodyRef.nativeElement as HTMLElement).children[0].children;\n    // console.log(this.tableRef.nativeElement.offsetWidth - this.tableRef.nativeElement.clientWidth)\n    // console.log(fullWidth)\n    // const actionsWidth = trArr[trArr.length - 1].clientWidth;\n    // const availableWidth = fullWidth - actionsWidth - this.scrollBarWidth;\n    this.cumulatedColumnWidth = 0;\n    const availableWidth = fullWidth;\n    let max = 0;\n    this.dataSource.columns.forEach((col) => {\n      max += col.length;\n    });\n\n    let prevStickies = 0;\n\n    for (let i = 0; i < this.dataSource.columns.length; i++) {\n      const col = this.dataSource.columns[i];\n      this.columnWidths[i] = (availableWidth / max) * col.length;\n      if (this.columnWidths[i] < col.length * 10) {\n        this.columnWidths[i] = col.length * 10;\n      }\n      if (i > 0) {\n        this.colPositions[i] = this.colPositions[i - 1] + this.columnWidths[i - 1];\n      } else {\n        this.colPositions[i] = 0;\n      }\n      this.stickyBreakpoints[i] = prevStickies;\n      if (col.sticky) {\n        prevStickies += this.columnWidths[i];\n      }\n      this.cumulatedColumnWidth += this.columnWidths[i];\n    }\n  }\n\n  private calcMaxBrowserScrollSize(): number {\n    // if (!this.realScrollSize) {\n    const div = document.createElement(\"div\");\n    const style = div.style;\n    style.position = \"absolute\";\n    style.left = \"99999999999999px\";\n    style.top = \"9999999999999999px\";\n    document.body.appendChild(div);\n\n    const size = div.getBoundingClientRect().top;\n    document.body.removeChild(div);\n    // return Math.abs(size) / 2;\n    return size;\n    // return 100000;\n    // } else {\n    //   return this.realScrollSize;\n    // }\n  }\n  // getScrollbarWidth() {\n\n  //   const outer = document.createElement('div');\n  //   outer.style.visibility = 'hidden';\n  //   outer.style.overflow = 'scroll'; // forcing scrollbar to appear\n  //   outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\n  //   document.body.appendChild(outer);\n\n  //   const inner = document.createElement('div');\n  //   outer.appendChild(inner);\n\n  //   const scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n\n  //   outer.parentNode.removeChild(outer);\n\n  //   return scrollbarWidth;\n  // }\n\n  // getScrollbarWidth() {\n  //   const inner = document.createElement('p');\n  //   inner.style.width = '100%';\n  //   inner.style.height = '200px';\n\n  //   const outer = document.createElement('div');\n  //   outer.style.position = 'absolute';\n  //   outer.style.top = '0px';\n  //   outer.style.left = '0px';\n  //   outer.style.visibility = 'hidden';\n  //   outer.style.width = '200px';\n  //   outer.style.height = '150px';\n  //   outer.style.overflow = 'hidden';\n  //   outer.appendChild(inner);\n\n  //   document.body.appendChild(outer);\n  //   let w1 = inner.offsetWidth;\n  //   outer.style.overflow = 'scroll';\n  //   let w2 = inner.offsetWidth;\n\n  //   if (w1 == w2) {\n  //     w2 = outer.clientWidth;\n  //   }\n\n  //   document.body.removeChild(outer);\n\n  //   return (w1 - w2);\n  // }\n  ///////////////////\n\n  updateColumns() {\n    this.dataSource.columns = [];\n    // this.dataSource.displayedColumns = [];\n    this.dataSource.keyIds = [];\n    let a = 0;\n    this._columns.forEach((col: VirtualDataSourceInfoColumn) => {\n      const column = {\n        description: this.sanitizer.bypassSecurityTrustHtml(col.description),\n        length: col.length,\n        id: col.id,\n        style: col.style,\n        // menuColumn: a === 2 || a === 0 ? false : false,\n        sticky: a === 2 || a === 0 ? true : false,\n        containerStyle: col.containerStyle,\n        headerStyle: col.headerStyle,\n        headerContainerStyle: col.headerContainerStyle,\n        extraCellDefinitions: col.extraCellDefinitions,\n        align: col.align,\n        format: col.format,\n      };\n      this.dataSource.columns.push(column);\n      // this.dataSource.displayedColumns.push(column);\n      this.dataSource.keyIds.push(col.id);\n      a++;\n    });\n  }\n\n  format(val, format) {\n    return this.formatService.format(val, format);\n  }\n\n  getHeaderContainerStyle(column, i) {\n    const lastColumnFix = i === this.dataSource.columns.length - 1 ? this.scrollBarWidth : 0;\n    const w = this.columnWidths[i] + lastColumnFix;\n\n    let style = Object.assign(\n      {\n        width: w + \"px\",\n        \"max-width\": w + \"px\",\n        \"min-width\": w + \"px\",\n        \"text-align\": column.align ? column.align : \"left\",\n      },\n      column.headerContainerStyle\n    );\n    style = this.handleSticky(cloneDeep(style), column, i);\n    return style;\n  }\n  getHeaderStyle(column, i) {\n    return column.headerStyle;\n  }\n  getRowStyle(vrow) {\n    // transform1: 'translateY(' + vrow.pos + 'px)',\n    const style = {\n      height: this.rowHeight + \"px\",\n      transform: \"translateY(\" + vrow.pos + \"px)\",\n      width: this.cumulatedColumnWidth + \"px\",\n    };\n\n    if (vrow.absoluteId === this.dataSource.cursorAbsPos && this.selectedRowStyle) {\n      if (this.isFocused) {\n        Object.assign(style, this.selectedRowStyle);\n      } else {\n        Object.assign(style, this.inactiveSelectedRowStyle);\n      }\n    }\n\n    return style;\n  }\n  getContainerStyle(column, data, i, vrow) {\n    let containerStyle = Object.assign(\n      {\n        width: this.columnWidths[i] + \"px\",\n        \"max-width\": this.columnWidths[i] + \"px\",\n        \"min-width\": this.columnWidths[i] + \"px\",\n      },\n      column.containerStyle\n    );\n\n    const extra = data && data.styles && data.styles[column.id] && data.styles[column.id].containerStyle;\n\n    if (extra) {\n      Object.assign(containerStyle, extra);\n    }\n\n    if (vrow.absoluteId === this.dataSource.cursorAbsPos && i === this.dataSource.state.selectedColumnIndex) {\n      if (this.isFocused) {\n        Object.assign(containerStyle, this.selectedCellStyle);\n      } else {\n        Object.assign(containerStyle, this.inactiveSelectedCellStyle);\n      }\n    }\n    if (this.activeRow === vrow.absoluteId && i === this.dataSource.state.navigationColumnIndex) {\n      // Object.assign(containerStyle, { 'outline': '2px solid red', 'outline-offset': '-2px' });\n      if (this.isFocused) {\n        Object.assign(containerStyle, this.navigationCellStyle);\n      } else {\n        Object.assign(containerStyle, this.inactiveNavigationCellStyle);\n      }\n    }\n\n    containerStyle = this.handleSticky(containerStyle, column, i, vrow);\n\n    return containerStyle;\n  }\n  handleSticky(styleObj, column, i, vrow = null) {\n    let left = this.colPositions[i];\n    if (column.sticky) {\n      const scrollLeft = this.tableRef.nativeElement.scrollLeft;\n      const breakpoint = left - this.stickyBreakpoints[i];\n      if (scrollLeft > breakpoint) {\n        left += scrollLeft - breakpoint;\n        styleObj[\"background\"] = \"rgba(var(--theme-background-300), 1)\";\n        // styleObj[\"transition\"] = \"background-color .3s, box-shadow .3s\";\n        if (vrow && vrow.absoluteId === this.dataSource.cursorAbsPos && this.selectedRowStyle) {\n          if (this.isFocused) {\n            Object.assign(styleObj, this.selectedRowStyle);\n          } else {\n            Object.assign(styleObj, this.inactiveSelectedRowStyle);\n          }\n        }\n        styleObj[\"box-shadow\"] = \"3px 0px 2px 2px #00000040\";\n        styleObj[\"z-index\"] = 2;\n      }\n    }\n    styleObj.left = left + \"px\";\n    return styleObj;\n  }\n  getStyle(column, data, i) {\n    return data && data.styles && data.styles[column.id] && data.styles[column.id].style;\n  }\n  getBarStyle(column, data, i) {\n    return data && data.styles && data.styles[column.id] && data.styles[column.id].barStyle;\n  }\n\n  getCellContent(vrow, column) {\n    if (vrow.data && vrow.data.data && vrow.data.data.processedData) {\n      if (vrow.data.data.processedData[\"$\" + column.id]) {\n        return vrow.data.data.processedData[\"$\" + column.id];\n      } else {\n        return vrow.data.data.processedData[column.id];\n      }\n    }\n\n    return \"\";\n  }\n  //////////////////////////////////////\n  mouseEnter(column, vrow, i, cellRef) {\n    if (this.isEllipsisActive(cellRef) && vrow) {\n      let style = {};\n      let content = \"\";\n      if (vrow.data && vrow.data.data) {\n        content = this.format(this.getCellContent(vrow, column), column.format);\n        style = this.getStyle(column, vrow.data.data, i);\n      }\n      // this.tooltip.set(vrow.absoluteId + \"_\" + i, content, style);\n    }\n  }\n  mouseLeave(column, vrow, i) {\n    // if (vrow && vrow.data && vrow.data.data) {\n    //   this.tooltip.remove(vrow.absoluteId + \"_\" + i);\n    // }\n  }\n\n  ////////////////////////////////\n  trackByFn(index, item) {\n    return item.absoluteId;\n    //  index; // or item.id\n  }\n  trackByFnCell(index, item) {\n    return item.id;\n    //  index; // or item.id\n  }\n\n  ngOnDestroy() {\n    if (this.dataSource) {\n      this.dataSource.disconnect();\n    }\n    if (this.timeoutHelper) {\n      clearTimeout(this.timeoutHelper);\n    }\n    this.ngUnsubscribe.next();\n    this.ngUnsubscribe.complete();\n  }\n}\n","<!-- <table>\n    <tbody>\n        <tr *ngFor=\"let vrow of vrows\">\n            <td>{{vrow}}</td>\n            <td>asd</td>\n            <td>asd</td>\n            <td>asd</td>\n        </tr>\n    </tbody>\n</table> -->\n<!-- {{this.cumulatedColumnWidth}}\n{{this.tableRef && this.tableRef.nativeElement.clientWidth}} -->\n\n<div class=\"mainwrapper admino-table\" #mainRef>\n  <div class=\"aheader\" [ngStyle]=\"{ height: headerHeight + 'px' }\" #headerRef *ngIf=\"!hideHeader\">\n    <div\n      class=\"ahcell\"\n      (click)=\"setSelectedHeader(i)\"\n      *ngFor=\"let column of dataSource.columns; let i = index\"\n      [ngStyle]=\"getHeaderContainerStyle(column, i)\"\n    >\n      <div class=\"cell-content\" [innerHTML]=\"column.description\" [ngStyle]=\"getHeaderStyle(column, i)\">\n        <!-- <admino-admino-table-sorter [enabled]=\"column.sortable\" [active]=\"column===this.sortedColumn?true:false\"\n                    (click)=\"column.sortable?sortClicked(column, sorter):null;\" #sorter> -->\n        <!-- {{column.label}} -->\n        <!-- </admino-admino-table-sorter> -->\n      </div>\n    </div>\n  </div>\n  <div class=\"awrapper\" [ngClass]=\"{ hidetable: !dataSource.initialBrowseRequestHappend }\">\n    <div\n      class=\"scroller\"\n      tabIndex=\"-1\"\n      [ngClass]=\"{\n        'd-none': this.dataSource.totalsize < this.calculatedLargePageSize\n      }\"\n      (mousedown)=\"scrollbarMouseDown()\"\n      (scroll)=\"scrollbarScroll($event)\"\n      #scrollerRef\n    >\n      <div class=\"scrollercontent\" #scrollerContentRef></div>\n    </div>\n    <!-- *ngIf=\"this.activeRow === vrow.absoluteId  && (!vrow.data || (vrow.data && vrow.data.data ===undefined))\" -->\n    <div\n      class=\"rowindicator\"\n      [ngClass]=\"{\n        show: showIndicator() && this.dataSource.initialBrowseRequestHappend,\n        bottom: this.scrollDirection >= 1\n      }\"\n    >\n      {{ this.scrollDirection ? this.rowEnd + 1 : this.rowStart + 1 }}\n      <!-- -(this.largePage*(this.largePageSize)*this.rowHeight) -->\n    </div>\n    <div class=\"atable\" (scroll)=\"scrollEvent()\" #tableRef [ngStyle]=\"calculateScrollers()\">\n      <div class=\"abody\" #bodyRef>\n        <div class=\"fakecontent\" #fakeContentRef></div>\n        <div\n          class=\"arow\"\n          [ngClass]=\"{\n            rowselected: vrow.absoluteId === this.dataSource.cursorAbsPos,\n            evenrow: vrow.absoluteId % 2 === 0,\n            lastrow: vrow.absoluteId === this.dataSource.totalsize - 1\n          }\"\n          [ngStyle]=\"getRowStyle(vrow)\"\n          *ngFor=\"let vrow of vrows; let rowIndex = index; trackBy: trackByFn\"\n          [@adminoTableRowAnimation]=\"vrow.data && vrow.data.data !== undefined\"\n        >\n          <div\n            (click)=\"setSelected(vrow.data, i, 'cellClick')\"\n            (dblclick)=\"setSelected(vrow.data, i, 'cellDoubleClick')\"\n            (contextmenu)=\"onContextMenu($event, vrow, i)\"\n            class=\"acell\"\n            *ngFor=\"let column of dataSource.columns; let i = index; trackBy: trackByFnCell\"\n            [ngClass]=\"{\n              columnselected: this.dataSource.cursorAbsPos === vrow.absoluteId && i === this.dataSource.state.selectedColumnIndex,\n              columnnavigation: this.activeRow === vrow.absoluteId && i === this.dataSource.state.navigationColumnIndex,\n              first: i === 0,\n              last: i === dataSource.columns.length - 1\n            }\"\n            [ngStyle]=\"getContainerStyle(column, vrow.data && vrow.data.data, i, vrow)\"\n          >\n            <div class=\"rowbg\" *ngIf=\"vrow.absoluteId % 2 === 0\" [ngStyle]=\"oddRowStyle\"></div>\n\n            <!-- *ngIf=\"!column.menuColumn; else elseBlock\" -->\n            <div\n              class=\"cell-content\"\n              [ngStyle]=\"getStyle(column, vrow.data && vrow.data.data, i)\"\n              [innerHtml]=\"format(getCellContent(vrow, column), column.format)\"\n              #cellRef\n            ></div>\n            <!-- <ng-template #elseBlock>\n              <div class=\"cell-content\" [ngStyle]=\"getStyle(column, vrow.data && vrow.data.data, i)\" #cellRef>\n                <button mat-icon-button [matMenuTriggerFor]=\"menu\" [matMenuTriggerData]=\"{ menus: element.rowMenu }\">\n                  <mat-icon>menu</mat-icon>\n                </button>\n                \n              </div>\n            </ng-template> -->\n\n            <!-- (mouseenter)=\"mouseEnter(column, vrow,i, cellRef)\" (mouseleave)=\"mouseLeave(column, vrow,i)\" -->\n\n            <!-- [adminoTooltip]=\"format(getCellContent(vrow, column),column.format)\"\n                        [adminoTooltipEnabled]=\"this.isEllipsisActive(cellRef)\"\n                        [adminoTooltipStyle]=\"getStyle(column, vrow.data && vrow.data.data,i)\" -->\n\n            <div\n              class=\"bar\"\n              *ngIf=\"\n                vrow.data &&\n                vrow.data.data &&\n                vrow.data.data.styles &&\n                vrow.data.data.styles[column.id] &&\n                vrow.data.data.styles[column.id].barStyle\n              \"\n              [ngStyle]=\"getBarStyle(column, vrow.data && vrow.data.data, i)\"\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- <mat-menu #menu=\"matMenu\">\n    <ng-template matMenuContent>\n      <button mat-menu-item>\n        <mat-icon>home</mat-icon>\n        <span>Label</span>\n      </button>\n      <button mat-menu-item>\n        <mat-icon>home</mat-icon>\n        <span>Label</span>\n      </button>\n      <button mat-menu-item>\n        <mat-icon>home</mat-icon>\n        <span>Label</span>\n      </button>\n    </ng-template>\n  </mat-menu> -->\n  <ng-container *ngIf=\"debug\">\n    <div class=\"row debug\">\n      <div class=\"col-6\">\n        <table>\n          <tr>\n            <td>notfittingRowHeight</td>\n            <td>{{ this.notfittingRowHeight }}</td>\n          </tr>\n          <tr>\n            <td>datasource abs position</td>\n            <td>{{ this.dataSource.cursorAbsPos }}</td>\n          </tr>\n          <tr>\n            <td>not fitting rowheight</td>\n            <td>{{ this.notfittingRowHeight }}</td>\n          </tr>\n          <tr>\n            <td>rowStart - rowEnd</td>\n            <td>{{ this.rowStart }} - {{ this.rowEnd }}</td>\n          </tr>\n          <tr>\n            <td>totalsize</td>\n            <td>{{ this.totalsize | number }}</td>\n          </tr>\n          <tr>\n            <td>visibleRowCount</td>\n            <td>{{ this.visibleRowCount }}</td>\n          </tr>\n          <tr>\n            <td class=\"color-accent\">scrollPosCoeff</td>\n            <td>{{ this.scrollPosCoeff }}</td>\n          </tr>\n          <tr>\n            <td class=\"color-accent\">smallPage</td>\n            <td>{{ this.smallPage }}</td>\n          </tr>\n          <tr>\n            <td class=\"color-accent\">scrollPosCoeffNormal</td>\n            <td>{{ this.scrollPosCoeffNormal }}</td>\n          </tr>\n          <tr>\n            <td>scrollTop</td>\n            <td>{{ this.scrollPos }}</td>\n          </tr>\n          <tr>\n            <td>maxScrollPos</td>\n            <td>{{ this.maxScrollPos | number }}</td>\n          </tr>\n          <tr>\n            <td>fakeScrollerHeight</td>\n            <td>{{ this.fakeScrollerHeight | number }}</td>\n          </tr>\n        </table>\n      </div>\n\n      <div class=\"col-6\">\n        <table>\n          <tr>\n            <td>cursorpos</td>\n            <td>{{ this.dataSource.state.cursorpos }}</td>\n          </tr>\n          <tr>\n            <td>activeRow</td>\n            <td>{{ this.activeRow }}</td>\n          </tr>\n          <tr>\n            <td>largePage</td>\n            <td>{{ this.largePage | number }}</td>\n          </tr>\n          <tr>\n            <td>largePageSize</td>\n            <td>{{ this.largePageSize }}</td>\n          </tr>\n          <tr>\n            <td>largePageCoeff</td>\n            <td>{{ this.largePageCoeff }}</td>\n          </tr>\n          <tr>\n            <td>lastLargePage</td>\n            <td>{{ this.lastLargePage }}</td>\n          </tr>\n          <tr>\n            <td>adjustedTotalsize</td>\n            <td>{{ this.adjustedTotalsize }}</td>\n          </tr>\n          <tr>\n            <td>rowCountOnLastLargePage</td>\n            <td>{{ this.rowCountOnLastLargePage | number }}</td>\n          </tr>\n          <tr>\n            <td>rowHeight</td>\n            <td>{{ this.rowHeight | number }}</td>\n          </tr>\n\n          <tr>\n            <td>numOfRowSlots</td>\n            <td>{{ this.viewportSize / this.rowHeight | number }}</td>\n          </tr>\n          <tr>\n            <td>viewportHeight</td>\n            <td>{{ this.viewportSize | number }}</td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </ng-container>\n</div>\n\n<!-- <p>scrollTop:{{this.scrollPos }}</p>\n<p>maxScrollPos:{{this.maxScrollPos | number}}</p>\n<p>fakeScrollerHeight:{{this.fakeScrollerHeight | number}}</p> -->\n<!-- \n<p class=\"color-primary\">largePage:{{this.largePage | number}}</p>\n<p class=\"color-primary\">largePageSize:{{this.largePageSize | number}}</p>\n<p class=\"color-primary\">lastPage:{{this.lastLargePage | number}}</p> -->\n<!-- <p>adjustedTotalsize:{{this.adjustedTotalsize | number}}</p>\n<p>rowCountOnLastLargePage:{{this.rowCountOnLastLargePage | number}}</p>\n<p>rowHeight:{{this.rowHeight | number}}</p> -->\n<!-- \n<p>roundedRowHeight:{{this.roundedRowHeight | number}}</p>\n<p>numOfRowSlots:{{this.viewportSize/this.roundedRowHeight | number}}</p>\n<p>viewportHeight:{{this.viewportSize | number}}</p> -->\n","import { cloneDeep } from \"lodash\";\nimport { Subject, BehaviorSubject, of, Subscription, Observable } from \"rxjs\";\nimport { takeUntil, catchError } from \"rxjs/operators\";\nimport { AdminoTableBuffer } from \"./admino-table2.buffer\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nexport interface AdminoTableDataSourceConfig {\n  listFunction: (keys, cursor, shift, count, index, before, after) => Observable<any>;\n}\nexport interface VirtualDataSourceInfoColumn {\n  // label: SafeHtml;\n\n  id: string;\n  format: string;\n  align: string;\n  style: any;\n  containerStyle: any;\n\n  headerStyle: any;\n  headerContainerStyle: any;\n\n  extraCellDefinitions: any;\n\n  length: number;\n  sticky: boolean;\n  // menuColumn: boolean;\n\n  // source?: string;\n  description: any;\n}\n// export interface VirtualDataSourceInfo {\n//     view: VirtualDataSourceInfoField[];\n//     indexes: { keys: string[], description: string }[];\n// }\n// export interface VirtualDataSourceColumn {\n//     label: SafeHtml;\n//     id: string;\n//     format: string;\n//     align: string;\n//     length: number;\n//     style: any;\n//     headerStyle: any;\n\n//     sortable?: boolean;\n//     sticky?: boolean;\n// }\nexport interface DataSourceState {\n  keys: any;\n  prevKeys: any;\n  prevSelectedColumnIndex: number;\n  cursor: number;\n  count: number;\n  index: number;\n  before: number;\n  after: number;\n  cursorPosPercent: number;\n  totalsize: number;\n  cursorpos: number;\n  selectedColumnIndex: number;\n  selectedHeaderColumnIndex: number;\n  navigationColumnIndex: number;\n  navigationRowIndex: number;\n}\nexport interface BrowseRequest {\n  subscription: Subscription;\n  shift: number;\n  resolvePromise: (...args) => void;\n  rejectPromise: () => void;\n  observable: Observable<any>;\n  timeout: any;\n}\nexport class AdminoTable2DataSource {\n  private ngUnsubscribe: Subject<null> = new Subject();\n\n  public resultSubject = new BehaviorSubject<any[]>(null);\n  public result$ = this.resultSubject.asObservable();\n\n  public loadDataStart = new Subject<any>();\n  public triggerLoadData = new Subject<any>();\n\n  currentRequests: BrowseRequest[] = [];\n\n  columns: VirtualDataSourceInfoColumn[] = [];\n  displayedColumns = [];\n  keyIds = [];\n\n  indexes = [];\n\n  // keys: any;\n  // cursor = 0;\n  // index = 1;\n  // count = 10;\n  // cursorPos = 0;\n  cursorAbsPos = 0;\n\n  data: any = {};\n  viewpos = 0;\n  rows: any = {};\n  totalsize = 1;\n  predefinedStyles = [];\n  initialBrowseRequestHappend = false;\n  // keyAbsolutePosition;\n\n  state: DataSourceState = {\n    keys: { \"#position\": \"first\" },\n    prevKeys: null,\n    prevSelectedColumnIndex: null,\n    cursor: 0,\n    count: 1,\n    index: 1,\n    before: 10,\n    after: 10,\n    cursorPosPercent: 0,\n    totalsize: 0,\n    cursorpos: 0,\n    selectedColumnIndex: 0,\n    selectedHeaderColumnIndex: 0,\n    navigationColumnIndex: 0,\n    navigationRowIndex: 0,\n  };\n\n  buffer = new AdminoTableBuffer();\n\n  refreshTimeout;\n  autoRefresh = 0;\n  counter = 0;\n  keyChangedByFrontend = false;\n  constructor(public config: AdminoTableDataSourceConfig, public sanitizer: DomSanitizer) {\n    this.triggerLoadData.pipe(takeUntil(this.ngUnsubscribe)).subscribe((params) => {\n      this.loadData();\n    });\n  }\n  connect(): Observable<any[]> {\n    return this.resultSubject.asObservable();\n  }\n\n  disconnect(): void {\n    if (this.refreshTimeout) {\n      clearTimeout(this.refreshTimeout);\n    }\n    this.resultSubject.complete();\n    this.ngUnsubscribe.next();\n    this.ngUnsubscribe.complete();\n  }\n\n  setAutoRefresh() {\n    if (this.refreshTimeout) {\n      clearTimeout(this.refreshTimeout);\n    }\n    if (this.autoRefresh) {\n      this.refreshTimeout = setTimeout(() => {\n        this.loadData();\n        if (this.autoRefresh) {\n          this.setAutoRefresh();\n        }\n      }, this.autoRefresh);\n    }\n  }\n\n  loadData(shift: number = 0) {\n    // const calculatedShift = this.calculateShift(shift);\n    const calculatedShift = shift;\n    const num = this.counter;\n    this.counter++;\n    return new Promise((resolve, reject) => {\n      const requestObj: BrowseRequest = {\n        subscription: null,\n        observable: null,\n        shift,\n        timeout: null,\n        resolvePromise: resolve,\n        rejectPromise: reject,\n      };\n      // const state = {\n      //     keys: this.state.keys,\n      //     cursor: this.state.cursor,\n      //     count: this.state.count,\n      //     index: this.state.index,\n      //     before: this.state.count,\n      //     after: this.count,\n      //     cursorPosPercent: this.cursor / (this.count - 1),\n      // };\n      // this.state.before = this.state.before;\n      // this.state.after = this.state.after;\n      this.state.cursorPosPercent = this.state.cursor / (this.state.count - 1);\n      this.loadDataStart.next(this.state);\n\n      const cursorpos = isNaN(this.state.cursorpos) ? 0 : this.state.cursorpos;\n\n      requestObj.timeout = setTimeout(() => {\n        if (this.currentRequests[this.currentRequests.length - 1] !== requestObj) {\n          this.clearRequest(requestObj);\n          this.startLatestRequest();\n        }\n      }, 1000);\n      requestObj.observable = this.config.listFunction(\n        this.state.keys,\n        cursorpos,\n        calculatedShift,\n        Math.max(this.state.count, 1),\n        this.state.index,\n        this.state.before,\n        this.state.after\n      );\n      this.currentRequests.push(requestObj);\n      if (this.currentRequests.length <= 1) {\n        this.startLatestRequest();\n      }\n    });\n  }\n  startLatestRequest() {\n    const latestReq = this.currentRequests[this.currentRequests.length - 1];\n    if (latestReq && !latestReq.subscription) {\n      latestReq.subscription = this.subscribeTo(latestReq);\n    }\n  }\n  subscribeTo(requestObj: BrowseRequest) {\n    return requestObj.observable\n      .pipe(\n        takeUntil(this.ngUnsubscribe),\n        catchError(() => of([]))\n      )\n      .subscribe(\n        (data: any) => {\n          this.updateData(data);\n          this.clearRequest(requestObj);\n          this.startLatestRequest();\n          this.initialBrowseRequestHappend = true;\n          requestObj.resolvePromise(data);\n        },\n        (err) => {\n          this.clearRequest(requestObj);\n          this.startLatestRequest();\n\n          requestObj.rejectPromise();\n        }\n      );\n  }\n\n  calculateShift(shift) {\n    let calculatedShift = shift;\n    for (const req of this.currentRequests) {\n      calculatedShift += req.shift;\n    }\n    return calculatedShift;\n  }\n\n  setKeys(rowData) {\n    if (rowData) {\n      this.state.keys = cloneDeep(rowData);\n      if (this.currentRequests.length !== 0) {\n        this.clearRequests();\n        this.loadData();\n      }\n    }\n    // if (this.currentRequests.length !== 0) {\n    // }\n  }\n  clearRequest(requestObj: BrowseRequest) {\n    const index = this.currentRequests.indexOf(requestObj);\n    for (let i = 0; i <= index; i++) {\n      const req = this.currentRequests[0];\n      if (req.subscription) {\n        req.subscription.unsubscribe();\n      }\n      if (req.timeout) {\n        clearTimeout(req.timeout);\n      }\n      req.subscription = null;\n      this.currentRequests.shift();\n    }\n  }\n  clearRequests() {\n    const len = this.currentRequests.length;\n    for (let i = 0; i < len; i++) {\n      const req = this.currentRequests[0];\n      if (req.subscription) {\n        req.subscription.unsubscribe();\n      }\n      if (req.timeout) {\n        clearTimeout(req.timeout);\n      }\n      req.subscription = null;\n      this.currentRequests.shift();\n    }\n  }\n  updateData(data) {\n    if (!data || !data.data) {\n      return;\n    }\n\n    const totalsize = parseInt(data.totalsize, 10);\n    const viewpos = parseInt(data.viewpos, 10);\n    const cursorpos = parseInt(data.cursorpos, 10);\n\n    this.data = data;\n    this.totalsize = totalsize;\n    this.state.totalsize = this.totalsize;\n    this.viewpos = viewpos - 1;\n    this.predefinedStyles = data.predefinedStyles;\n\n    this.rows = [];\n    // this.currentRequests.length === 0 &&\n\n    for (let i = 0; i < this.data.before.length; i++) {\n      const d = this.data.before[i];\n      const index = this.viewpos - this.data.before.length + i;\n      this.rows[index] = d;\n      this.setData(index, d);\n    }\n\n    for (let i = 0; i < this.data.data.length; i++) {\n      const d = this.data.data[i];\n      const index = this.viewpos + i;\n      this.rows[this.viewpos + i] = d;\n      this.setData(index, d);\n    }\n\n    for (let i = 0; i < this.data.after.length; i++) {\n      const d = this.data.after[i];\n      const index = this.viewpos + this.data.data.length + i;\n      this.rows[index] = d;\n      this.setData(index, d);\n    }\n\n    // if (this.currentRequests.length === 0) {\n    //     this.keyChangedByFrontend = false;\n    // }\n    // console.log(this.buffer.container);\n    // this.cursorAbsPos = this.viewpos + parseInt(data.cursorpos, 10);\n    // if (!keyChangedByFrontend && !this.keyChangedByFrontend || isEqual(data.cursor, this.state.keys)) {\n    this.state.keys = data.cursor;\n    this.cursorAbsPos = this.viewpos + cursorpos;\n    this.state.cursorpos = parseInt(data.cursorpos, 10);\n    // }\n\n    this.resultSubject.next(this.rows);\n  }\n\n  setData(index, d) {\n    const currentBuffer = this.buffer.get(index);\n    if (currentBuffer && currentBuffer.data) {\n      this.buffer.set(index, this.processData(d, currentBuffer.data));\n    } else {\n      this.buffer.set(index, this.processData(d, null));\n    }\n  }\n\n  processData(newData, bufferData: any) {\n    if (!bufferData) {\n      bufferData = {};\n      bufferData.origData = {};\n      bufferData.dataVersion = 0;\n      bufferData.styles = {};\n      bufferData.processedData = cloneDeep(newData);\n    }\n    const newProcessedData = {};\n\n    for (const key of Object.keys(newData)) {\n      // const extra = newData[column.extraCellDefinitions];\n      // const extraStyle = extra && extra.containerStyle;\n      if (key.startsWith(\"$\") && typeof newData[key] === \"string\") {\n        if (newData[key] !== bufferData.origData[key]) {\n          newProcessedData[key] = this.sanitizer.bypassSecurityTrustHtml(newData[key]);\n        } else {\n          newProcessedData[key] = bufferData.processedData[key];\n        }\n      } else {\n        newProcessedData[key] = newData[key];\n      }\n    }\n\n    bufferData.styles = {};\n    for (const column of this.columns) {\n      const cell = newData[\"$\" + column.id] !== undefined ? newData[\"$\" + column.id] : newData[column.id];\n      bufferData.styles[column.id] = {};\n\n      const style = column.style ? cloneDeep(column.style) : {};\n      const containerStyle = column.containerStyle ? cloneDeep(column.containerStyle) : {};\n      const barStyle = {};\n\n      const extra = newData[column.extraCellDefinitions];\n\n      const extraStyle = extra && extra.style;\n      const extraContainerStyle = extra && extra.containerStyle;\n      const extraBarStyle = extra && extra.bar;\n      const extraPredefinedStyle =\n        extra &&\n        extra.predefinedStyleId !== undefined &&\n        this.predefinedStyles !== undefined &&\n        this.predefinedStyles[extra.predefinedStyleId];\n      const extraPredefinedContainerStyle =\n        extra &&\n        extra.predefinedContainerStyleId !== undefined &&\n        this.predefinedStyles !== undefined &&\n        this.predefinedStyles[extra.predefinedContainerStyleId];\n\n      const extraPredefinedBarStyle =\n        extra &&\n        extra.predefinedBarStyleId !== undefined &&\n        this.predefinedStyles !== undefined &&\n        this.predefinedStyles[extra.predefinedBarStyleId];\n\n      if (extraStyle) {\n        Object.assign(style, extraStyle);\n      }\n      if (extraPredefinedStyle) {\n        Object.assign(style, extraPredefinedStyle);\n      }\n\n      if (extraContainerStyle) {\n        Object.assign(containerStyle, extraContainerStyle);\n      }\n      if (extraPredefinedContainerStyle) {\n        Object.assign(containerStyle, extraPredefinedContainerStyle);\n      }\n\n      if (extraBarStyle) {\n        Object.assign(barStyle, extraBarStyle);\n      }\n      if (extraPredefinedBarStyle) {\n        Object.assign(barStyle, extraPredefinedBarStyle);\n      }\n\n      bufferData.styles[column.id].style = style;\n      bufferData.styles[column.id].containerStyle = containerStyle;\n      bufferData.styles[column.id].barStyle = barStyle;\n    }\n\n    bufferData.processedData = newProcessedData;\n    bufferData.origData = cloneDeep(newData);\n    return bufferData;\n  }\n\n  // applyFormat(data) {\n  //     for (const colId of Object.keys(data)) {\n  //         const col = this.columns.find((_col) => {\n  //             return _col.id === colId;\n  //         });\n  //         if (col && col.format !== undefined) {\n  //             data[colId] = this.config.formatFunction(data[colId], col.format);\n  //         }\n  //     }\n  //     return data;\n  // }\n  findRowByKeys(data): number {\n    if (!this.state.keys) {\n      return 0;\n    }\n    let cursorPosition = 0;\n    for (let i = data.length - 1; i >= 0; i--) {\n      const row = data[i];\n      cursorPosition = i;\n      let match = true;\n      Object.keys(this.state.keys).forEach((key) => {\n        if (row[key] !== this.state.keys[key]) {\n          match = false;\n        }\n      });\n      if (match) {\n        // console.log(\"BREAK AT \" + cursorPosition)\n        break;\n      }\n    }\n    return cursorPosition;\n  }\n}\n","import { InteractionBase, PluginInteractionConfig } from \"shared\";\n\nexport class ContextMenu extends InteractionBase {\n  onCreate(id: string, interaction: PluginInteractionConfig) {\n    this.registerListener(this.context.pluginComponentRef.location.nativeElement, \"contextmenu\", (e) => {\n      if (interaction.config?.preventDefault) {\n        e.preventDefault();\n      }\n      console.log(\"table\");\n      this.fire().subscribe();\n    });\n  }\n  onUpdate() {}\n  onDestroy() {}\n}\n","import { InteractionBase, PluginInteractionConfig } from \"shared\";\nimport { Subscription } from \"rxjs\";\nimport { takeUntil, debounceTime, filter } from \"rxjs/operators\";\nimport { isEqual, cloneDeep } from \"lodash\";\nimport { TableComponent } from \"../table.component\";\n\nexport class KeyChangeInteraction extends InteractionBase {\n  valueChangeSub: Subscription;\n  oldVal;\n  pluginInstance: TableComponent;\n  onCreate(id: string, interaction: PluginInteractionConfig) {\n    this.valueChangeSub = this.context.control.valueChanges\n      .pipe(\n        takeUntil(this.context.destroy$),\n        debounceTime(interaction.config?.debounce ? interaction.config.debounce : 0),\n        filter((newVal) => {\n          return !isEqual(this.oldVal?.keys, newVal?.keys);\n        })\n      )\n      .subscribe((newVal) => {\n        this.pluginInstance.table.setPrevValues();\n        const sub = this.fire(\"keyChange\").subscribe();\n        // setTimeout((params) => {\n        //   sub.unsubscribe();\n        // }, 12);\n        this.oldVal = cloneDeep(newVal);\n      });\n  }\n  onUpdate() {}\n  onDestroy() {\n    if (this.valueChangeSub) {\n      this.valueChangeSub.unsubscribe();\n    }\n  }\n}\n","import { Component, OnInit, AfterViewInit, ViewChild, Inject, ChangeDetectionStrategy, ChangeDetectorRef } from \"@angular/core\";\nimport { AdminoTable2Component } from \"./admino-table2/admino-table2.component\";\nimport { AdminoTable2DataSource } from \"./admino-table2/admino-table2.datasource\";\nimport { PLUGIN_CONTEXT, PluginWrapperComponent, deepCompare, PluginUpdate } from \"shared\";\nimport { TablePluginConfig } from \"./table.interface\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport { takeUntil, debounceTime } from \"rxjs/operators\";\nimport { KeyChangeInteraction } from \"./interactions/key-change\";\nimport { ContextMenu } from \"./interactions/contextmenu\";\nimport { isNil } from \"lodash\";\nimport * as _ from \"lodash\";\n\n@Component({\n  selector: \"app-table\",\n  templateUrl: \"./table.component.html\",\n  styleUrls: [\"./table.component.scss\"],\n  // changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TableComponent implements OnInit, AfterViewInit {\n  dataSource: AdminoTable2DataSource;\n  @ViewChild(AdminoTable2Component, { static: true })\n  table: AdminoTable2Component;\n\n  constructor(\n    @Inject(PLUGIN_CONTEXT) public context: PluginWrapperComponent,\n    public sanitizer: DomSanitizer,\n    private cd: ChangeDetectorRef\n  ) {\n    this.context.registerInteraction(\"keyChange\", KeyChangeInteraction);\n    this.context.overrideInteraction(\"contextmenu\", ContextMenu);\n  }\n\n  ngOnInit() {\n    const conf = this.context.pluginConfig as TablePluginConfig;\n    this.dataSource = new AdminoTable2DataSource(\n      {\n        listFunction: (keys, cursorpos, shift, count, index, before, after) =>\n          this.context.api.list(conf.config.viewName, keys, cursorpos, shift, count, index, before, after, conf.config.customVars),\n      },\n      this.sanitizer\n    );\n\n    this.context.redraw$.pipe(takeUntil(this.context.destroy$), debounceTime(300)).subscribe((params) => {\n      this.table.resize(null);\n    });\n\n    this.context.update$.pipe(takeUntil(this.context.destroy$)).subscribe((pluginUpdate: PluginUpdate) => {\n      // console.log(newConfig);\n      this.onChange(pluginUpdate);\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.context.pluginConfig.value) {\n      this.dataSource.state = Object.assign(this.dataSource.state, this.context.pluginConfig.value);\n      this.dataSource.setKeys(this.context.pluginConfig.value.keys);\n      this.table.dataSource.loadData().then((params) => {\n        this.table.gotoPos(this.dataSource.viewpos);\n        this.table.setActiveRow(this.dataSource.cursorAbsPos);\n      });\n    }\n    // this.subscribeToValueChange();\n  }\n  setValue(value) {\n    this.context.control.setValue(value);\n  }\n  // subscribeToValueChange() {\n  //   if (this.valueChangeSub) {\n  //     this.valueChangeSub.unsubscribe();\n  //   }\n\n  //   // const keyChangeAction = this.getAction(\"keyChange\");\n  //   // const dt = keyChangeAction && keyChangeAction.debounce ? keyChangeAction.debounce : 50;\n\n  //   this.valueChangeSub = this.context.control.valueChanges\n  //     .pipe(\n  //       takeUntil(this.context.destroy$),\n  //       debounceTime(50),\n  //       filter((newVal) => {\n  //         return !isEqual(this.oldVal, newVal);\n  //       })\n  //     )\n  //     .subscribe((newVal) => {\n  //       // if (this.element.value !== undefined) {\n  //       //   if (keyChangeAction) {\n  //       this.table.setPrevValues();\n  //       // this.handleAction(keyChangeAction);\n  //       this.context.firePluginInteractions(\"keyChange\").subscribe();\n  //       //   }\n  //       // }\n  //       this.oldVal = cloneDeep(newVal);\n  //     });\n  // }\n  handleCellChange(e) {\n    this.context.firePluginInteractions(\"cellChange\").subscribe();\n  }\n  handleCellClick(e) {\n    this.context.firePluginInteractions(\"cellClick\").subscribe();\n  }\n  handleCellDoubleClick(e) {\n    this.context.firePluginInteractions(\"cellDoubleClick\").subscribe();\n  }\n  handleHeaderCellClick(e) {\n    this.context.firePluginInteractions(\"headerCellClick\").subscribe();\n  }\n  cellContextMenu(e) {\n    this.context.firePluginInteractions(\"cellContextMenu\", e).subscribe();\n  }\n  onChange(pluginUpdate: PluginUpdate) {\n    const configDiffs = deepCompare(pluginUpdate.prevConfig?.config, pluginUpdate.newConfig?.config);\n    const commands = pluginUpdate.commands;\n    const diff = configDiffs.diff;\n    const config = this.context.pluginConfig.config;\n\n    let reinitNeeded = false;\n    if (diff.viewName) {\n      this.dataSource.clearRequests();\n      this.dataSource.buffer.clearAll();\n      this.dataSource.initialBrowseRequestHappend = false;\n      this.dataSource = new AdminoTable2DataSource(\n        {\n          listFunction: (keys, cursorpos, shift, count, index, before, after) =>\n            this.context.api.list(\n              this.context.pluginConfig.config.viewName,\n              keys,\n              cursorpos,\n              shift,\n              count,\n              index,\n              before,\n              after,\n              this.context.pluginConfig.config.customVars\n            ),\n        },\n        this.sanitizer\n      );\n      reinitNeeded = true;\n    }\n    if (commands.clearCache) {\n      this.dataSource.buffer.clearAll();\n      reinitNeeded = true;\n    }\n    if (diff.columns) {\n      reinitNeeded = true;\n      this.table.columns = config.columns;\n    }\n    if (diff.indexes) {\n      this.table.indexes = config.indexes;\n    }\n    if (diff.rowHeight) {\n      reinitNeeded = true;\n    }\n    // if (changes.actions) {\n    //   this.subscribeToValueChange();\n    // }\n\n    // if (this.element.value && this.element.value.shift) {\n    //   delete this.element.value.shift;\n    //   delete this.directive.element.value.shift;\n    // }\n\n    if (!_.isNil(commands.setValue)) {\n      this.dataSource.state = Object.assign(this.dataSource.state, commands.setValue);\n      if (!_.isNil(commands.setValue.keys)) {\n        this.dataSource.setKeys(commands.setValue.keys);\n      }\n    }\n\n    if (diff.hidden) {\n      reinitNeeded = true;\n    }\n    if (reinitNeeded) {\n      // this.table.updateSize();\n      // this.table.pageChange();\n      this.cd.detectChanges();\n      this.table.reinit();\n      // this.table.scrollEvent();\n    }\n    if (commands.setValue || commands.forceRefresh) {\n      const shift = !_.isNil(commands.setValue) && commands.setValue.shift !== undefined ? commands.setValue.shift : 0;\n      this.table.dataSource.loadData(shift).then((params) => {\n        this.table.gotoPos(this.dataSource.viewpos);\n        this.table.setActiveRow(this.dataSource.cursorAbsPos);\n        this.table.scrollEvent();\n        this.table.updateRows();\n        this.table.refreshVrows();\n      });\n    }\n  }\n  onDestroy() {\n    // if (this.valueChangeSub) {\n    //   this.valueChangeSub.unsubscribe();\n    // }\n  }\n}\n","<admino-table2\n  [dataSource]=\"this.dataSource\"\n  [indexes]=\"this.context.pluginConfig.config.indexes\"\n  [columns]=\"this.context.pluginConfig.config.columns\"\n  [autoRefresh]=\"this.context.pluginConfig.config.autoRefresh\"\n  [rowHeight]=\"this.context.pluginConfig.config.rowHeight\"\n  [headerHeight]=\"this.context.pluginConfig.config.headerHeight\"\n  [oddRowStyle]=\"this.context.pluginConfig.config.oddRowStyle\"\n  [hideHeader]=\"this.context.pluginConfig.config.hideHeader\"\n  [debug]=\"this.context.pluginConfig.config.debug\"\n  tabindex=\"0\"\n  [selectedRowStyle]=\"this.context.pluginConfig.config.selectedRowStyle\"\n  [selectedCellStyle]=\"this.context.pluginConfig.config.selectedCellStyle\"\n  [inactiveSelectedRowStyle]=\"this.context.pluginConfig.config.inactiveSelectedRowStyle\"\n  [inactiveSelectedCellStyle]=\"this.context.pluginConfig.config.inactiveSelectedCellStyle\"\n  [navigationCellStyle]=\"this.context.pluginConfig.config.navigationCellStyle\"\n  [inactiveNavigationCellStyle]=\"this.context.pluginConfig.config.inactiveNavigationCellStyle\"\n  [rowMenu]=\"this.context.pluginConfig.config.rowMenu\"\n  (cellClick)=\"handleCellClick($event)\"\n  (cellChange)=\"handleCellChange($event)\"\n  (cellDoubleClick)=\"handleCellDoubleClick($event)\"\n  (headerCellClick)=\"handleHeaderCellClick($event)\"\n  (valueChange)=\"setValue($event)\"\n  (cellContextMenu)=\"cellContextMenu($event)\"\n  data-focus-target\n>\n  <!--   \n    (valueChange)=\"setValue($event)\"\n  [ngClass]=\"{ 'table-focused': this.isFocused }\"\n  (valueChange)=\"setValue($event)\"\n  [keyOverrides]=\"this.getOverrideList()\"\n  [isFocused]=\"this.isFocused\" -->\n</admino-table2>\n","import { TableComponent } from \"./table.component\";\nimport { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { AdminoTable2Component } from \"./admino-table2/admino-table2.component\";\n\n@NgModule({\n  declarations: [TableComponent, AdminoTable2Component],\n  imports: [CommonModule],\n  exports: [TableComponent, AdminoTable2Component],\n})\nexport class TableModule {\n  static entry = TableComponent;\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__angular_animations__;","module.exports = __WEBPACK_EXTERNAL_MODULE__angular_common__;","module.exports = __WEBPACK_EXTERNAL_MODULE__angular_core__;","module.exports = __WEBPACK_EXTERNAL_MODULE__angular_platform_browser__;","module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;","module.exports = __WEBPACK_EXTERNAL_MODULE_rxjs__;","module.exports = __WEBPACK_EXTERNAL_MODULE_rxjs_operators__;","module.exports = __WEBPACK_EXTERNAL_MODULE_shared__;","module.exports = __WEBPACK_EXTERNAL_MODULE_tslib__;"],"sourceRoot":"webpack:///"}