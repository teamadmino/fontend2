!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("adm.@angular/common"),require("adm.@angular/material"),require("adm.@angular/forms"),require("adm.lodash"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/core")):"function"==typeof define&&define.amd?define(["adm.@angular/common","adm.@angular/material","adm.@angular/forms","adm.lodash","adm.rxjs/operators","adm.shared","adm.@angular/core"],t):"object"==typeof exports?exports.otpinput=t(require("adm.@angular/common"),require("adm.@angular/material"),require("adm.@angular/forms"),require("adm.lodash"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/core")):e.otpinput=t(e["adm.@angular/common"],e["adm.@angular/material"],e["adm.@angular/forms"],e["adm.lodash"],e["adm.rxjs/operators"],e["adm.shared"],e["adm.@angular/core"])}("undefined"!=typeof self?self:this,function(e,t,n,o,r,i,a){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,(function(t){return e[t]}).bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/plugins/otpinput",n(n.s=0)}({0:function(e,t,n){e.exports=n("P+m1")},"0S4P":function(t,n){t.exports=e},"3SZY":function(e,n){e.exports=t},"3xDq":function(e,t){e.exports=n},"P+m1":function(e,t,n){"use strict";n.r(t),n.d(t,"OtpinputModule",function(){return C});var o=n("vOrQ"),r=n("cfyg"),i=n("aP7H"),a=n("3xDq"),l=n("YLtl"),u=n("0S4P"),c=n("3SZY"),p=function(){function e(e,t){this._elRef=e,this._renderer=t}return e.prototype.ngOnInit=function(){this.disabledNumberOnly||this._renderer.setAttribute(this._elRef.nativeElement,"onkeypress","return (event.charCode >= 48 && event.charCode <= 57) || event.charCode == 0")},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](o.Renderer2))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","numberOnly",""]],inputs:{disabledNumberOnly:"disabledNumberOnly"}}),e}(),f=["containerRef"];function s(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-form-field",6),o["\u0275\u0275element"](1,"input",7),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=o["\u0275\u0275nextContext"](2);o["\u0275\u0275classMapInterpolate1"]("prefix otp otp-input-prefix ",r.config.inputClass,""),o["\u0275\u0275property"]("ngStyle",null==r.context.pluginConfig.config?null:r.context.pluginConfig.config.innerStyle)("appearance",null==r.context.pluginConfig.config?null:r.context.pluginConfig.config.appearance)("color",null==r.context.pluginConfig.config?null:r.context.pluginConfig.config.color),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngStyle",r.config.inputStyles)("value",n)}}var g=function(e){return{editable:e}};function d(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-form-field",8),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275reference"](2).select()}),o["\u0275\u0275elementStart"](1,"input",9,10),o["\u0275\u0275listener"]("keydown",function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"](2).onKeyDown(e)})("keyup",function(e){o["\u0275\u0275restoreView"](n);var r=t.index;return o["\u0275\u0275nextContext"](2).onKeyUp(e,r)})("focus",function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275reference"](2).select()}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,i=t.index,a=o["\u0275\u0275nextContext"](2);o["\u0275\u0275classMapInterpolate1"]("otp otp-input ",a.config.inputClass,""),o["\u0275\u0275property"]("ngStyle",null==a.context.pluginConfig.config?null:a.context.pluginConfig.config.innerStyle)("appearance",null==a.context.pluginConfig.config?null:a.context.pluginConfig.config.appearance)("color",null==a.context.pluginConfig.config?null:a.context.pluginConfig.config.color)("ngClass",o["\u0275\u0275pureFunction1"](19,g,!(null!=a.config&&a.config.readonly))),o["\u0275\u0275advance"](1),o["\u0275\u0275classMapInterpolate2"]("otp_",i,"_",a.componentKey,""),o["\u0275\u0275property"]("pattern",a.config.allowNumbersOnly?"\\d*":"")("type",a.inputType)("placeholder",(null==a.config?null:a.config.placeholder)||"")("disabledNumberOnly",!a.config.allowNumbersOnly)("ngStyle",a.config.inputStyle)("formControl",a.otpForm.controls[r.key])("readonly",null==a.config?null:a.config.readonly),o["\u0275\u0275attribute"]("data-focus-target",i)}}function m(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-form-field",11),o["\u0275\u0275element"](1,"input",7),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=o["\u0275\u0275nextContext"](2);o["\u0275\u0275classMapInterpolate1"]("suffix otp otp-input-suffix ",r.config.inputClass,""),o["\u0275\u0275property"]("ngStyle",null==r.context.pluginConfig.config?null:r.context.pluginConfig.config.innerStyle)("color",null==r.context.pluginConfig.config?null:r.context.pluginConfig.config.color)("appearance",null==r.context.pluginConfig.config?null:r.context.pluginConfig.config.appearance),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngStyle",r.config.inputStyles)("value",n)}}function y(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",1,2),o["\u0275\u0275template"](2,s,2,8,"mat-form-field",3),o["\u0275\u0275template"](3,d,3,21,"mat-form-field",4),o["\u0275\u0275pipe"](4,"keyvalue"),o["\u0275\u0275template"](5,m,2,8,"mat-form-field",5),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275classMapInterpolate1"]("wrapper ",n.config.containerClass,""),o["\u0275\u0275property"]("ngStyle",n.config.containerStyle),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",n.getPrefix()),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind1"](4,7,null==n.otpForm?null:n.otpForm.controls)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",n.getSuffix())}}var h=function(){function e(e,t){this.context=e,this.el=t,this.onInputChange=new o.EventEmitter,this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}return e.prototype.ngOnInit=function(){var e=this;this.onInputChange.pipe(Object(i.takeUntil)(this.context.destroy$)).subscribe(function(t){e.context.control.setValue(t)}),this.context.update$.pipe(Object(i.takeUntil)(this.context.destroy$)).subscribe(function(t){e.update(),t.compareResult.diff.value&&e.setValue(t.newConfig.value)}),this.update(),this.inputControls=new Array(this.config.length),this.otpForm=new a.FormGroup({});for(var t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new a.FormControl);this.inputType=this.getInputType()},e.prototype.update=function(){if(this.context.pluginConfig.config){var e=Object(l.cloneDeep)(this.context.pluginConfig.config);(null==e?void 0:e.length)||(e.length=4),this.config=e}},e.prototype.getPrefix=function(){return void 0!==this.config.prefix?Array.from(this.config.prefix):[]},e.prototype.getSuffix=function(){return void 0!==this.config.suffix?Array.from(this.config.suffix):[]},e.prototype.ngAfterViewInit=function(){var e=this;if(!this.config.disableAutoFocus&&this.containerRef){this.containerRef.nativeElement.addEventListener("paste",function(t){return e.handlePaste(t)});var t=this.containerRef.nativeElement.getElementsByClassName("otp-input")[0];t&&t.focus&&t.focus()}this.setValue(this.context.pluginConfig.value)},e.prototype.getControlName=function(e){return"ctrl_"+e},e.prototype.ifLeftArrow=function(e){return this.ifKeyCode(e,37)},e.prototype.ifRightArrow=function(e){return this.ifKeyCode(e,39)},e.prototype.ifBackspaceOrDelete=function(e){return"Backspace"===e.key||"Delete"===e.key||this.ifKeyCode(e,8)||this.ifKeyCode(e,46)},e.prototype.ifKeyCode=function(e,t){return(e.keyCode||e.charCode)==t},e.prototype.onKeyDown=function(e){if(this.ifKeyCode(e,32))return!1},e.prototype.onKeyUp=function(e,t){var n=this.appendKey("otp_"+(t+1)),o=this.appendKey("otp_"+(t-1));if(this.ifRightArrow(e))this.setSelected(n);else if(this.ifLeftArrow(e))this.setSelected(o);else{if(this.ifBackspaceOrDelete(e)&&!e.target.value)return this.setSelected(o),void this.rebuildValue();e.target.value&&(this.ifValidEntry(e)&&this.setSelected(n),this.rebuildValue())}},e.prototype.appendKey=function(e){return e+"_"+this.componentKey},e.prototype.setSelected=function(e){this.focusTo(e);var t=this.el.nativeElement.getElementsByClassName(e)[0];t&&t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(0,1)},0)},e.prototype.ifValidEntry=function(e){var t=String.fromCharCode(e.keyCode);return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(t)||this.config.allowKeyCodes&&this.config.allowKeyCodes.includes(e.keyCode)||e.keyCode>=96&&e.keyCode<=105},e.prototype.focusTo=function(e){var t=this.el.nativeElement.getElementsByClassName(e)[0];t&&t.focus()},e.prototype.setValue=function(e){var t,n=this;if(!this.config.allowNumbersOnly||!isNaN(e))if(this.otpForm.reset(),e){if(e=e.toString().replace(/\s/g,""),Array.from(e).forEach(function(e,t){n.otpForm.get(n.getControlName(t))&&n.otpForm.get(n.getControlName(t)).setValue(e)}),!this.config.disableAutoFocus){var o=null===(t=this.containerRef)||void 0===t?void 0:t.nativeElement;if(o){var r=e.length<this.config.length?e.length:this.config.length-1,i=o.getElementsByClassName("otp-input")[r];i&&i.focus&&i.focus()}}this.rebuildValue()}else this.rebuildValue()},e.prototype.rebuildValue=function(){var e=this,t="";Object.keys(this.otpForm.controls).forEach(function(n){e.otpForm.controls[n].value&&(t+=e.otpForm.controls[n].value)}),this.onInputChange.emit(t)},e.prototype.getInputType=function(){return this.config.isPasswordInput?"password":this.config.allowNumbersOnly?"tel":"text"},e.prototype.handlePaste=function(e){var t=e.clipboardData||window.clipboardData;if(t)var n=t.getData("Text");e.stopPropagation(),e.preventDefault(),n&&this.setValue(n)},e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](r.PLUGIN_CONTEXT),o["\u0275\u0275directiveInject"](o.ElementRef))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-otpinput"]],viewQuery:function(e,t){var n;1&e&&o["\u0275\u0275staticViewQuery"](f,!0),2&e&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.containerRef=n.first)},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","ngStyle",4,"ngIf"],[3,"ngStyle"],["containerRef",""],[3,"ngStyle","appearance","color","class",4,"ngFor","ngForOf"],[3,"ngStyle","appearance","color","class","ngClass","click",4,"ngFor","ngForOf"],[3,"ngStyle","color","appearance","class",4,"ngFor","ngForOf"],[3,"ngStyle","appearance","color"],["matInput","","maxlength","1","readonly","",3,"ngStyle","value"],[3,"ngStyle","appearance","color","ngClass","click"],["matInput","","numberOnly","","maxlength","1","autocomplete","off","data-focus-target","",3,"pattern","type","placeholder","disabledNumberOnly","ngStyle","formControl","readonly","keydown","keyup","focus"],["inputRef",""],[3,"ngStyle","color","appearance"]],template:function(e,t){1&e&&o["\u0275\u0275template"](0,y,6,9,"div",0),2&e&&o["\u0275\u0275property"]("ngIf",null==t.otpForm?null:t.otpForm.controls)},directives:[u.NgIf,u.NgStyle,u.NgForOf,c.MatFormField,c.MatInput,u.NgClass,a.DefaultValueAccessor,p,a.MaxLengthValidator,a.PatternValidator,a.NgControlStatus,a.FormControlDirective],pipes:[u.KeyValuePipe],styles:["[_nghost-%COMP%]     .mat-form-field-wrapper{margin-top:0!important;margin-bottom:-1.25em!important;padding-bottom:0!important;height:100%}[_nghost-%COMP%]     .mat-form-field-appearance-legacy .mat-form-field-underline{bottom:0}[_nghost-%COMP%]     .mat-form-field-infix{width:auto!important;border-top:0;display:flex;align-content:center;justify-content:center;align-items:center;height:100%}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:0}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{top:0}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-flex{margin-top:0}[_nghost-%COMP%]     .mat-form-field-flex{padding:0!important;height:100%}[_nghost-%COMP%]   .otp-input.mat-form-field-appearance-outline.editable[_ngcontent-%COMP%]{background:rgba(var(--theme-background-900),.3)}[_nghost-%COMP%]   .otp[_ngcontent-%COMP%]{width:2em;height:2em;text-align:center;position:relative}[_nghost-%COMP%]   .otp.prefix[_ngcontent-%COMP%], [_nghost-%COMP%]   .otp.suffix[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]   .otp[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}"]}),e}(),C=function(){function e(){}return e.entry=h,e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[u.CommonModule,a.ReactiveFormsModule,c.MatInputModule]]}),e}();t.default=C},YLtl:function(e,t){e.exports=o},aP7H:function(e,t){e.exports=r},cfyg:function(e,t){e.exports=i},vOrQ:function(e,t){e.exports=a}})});