!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("adm.@angular/common"),require("adm.lodash"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/platform-browser"),require("adm.@angular/core"),require("adm.@angular/material")):"function"==typeof define&&define.amd?define(["adm.@angular/common","adm.lodash","adm.rxjs/operators","adm.shared","adm.@angular/platform-browser","adm.@angular/core","adm.@angular/material"],e):"object"==typeof exports?exports.fittext=e(require("adm.@angular/common"),require("adm.lodash"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/platform-browser"),require("adm.@angular/core"),require("adm.@angular/material")):t.fittext=e(t["adm.@angular/common"],t["adm.lodash"],t["adm.rxjs/operators"],t["adm.shared"],t["adm.@angular/platform-browser"],t["adm.@angular/core"],t["adm.@angular/material"])}("undefined"!=typeof self?self:this,function(t,e,n,i,o,r,a){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,(function(e){return t[e]}).bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/assets/plugins/fittext",n(n.s=0)}({0:function(t,e,n){t.exports=n("P+m1")},"0S4P":function(e,n){e.exports=t},"P+m1":function(t,e,n){"use strict";n.r(e),n.d(e,"FittextModule",function(){return b});var i=n("0S4P"),o=n("vOrQ"),r=n("vG+p"),a=n("cfyg"),l=n("aP7H"),s=function(){function t(t,e){this.el=t,this.renderer=e,this.minFontSize=7,this.maxFontSize=1e3,this.fontSizeChanged=new o.EventEmitter,this.fontSize=1e3,this.speed=1.05,this.done=!1}return t.prototype.setFontSize=function(t){this.isVisible()&&!this.isDone()&&(t<this.minFontSize&&(t=this.minFontSize),t>this.maxFontSize&&(t=this.maxFontSize),this.fontSize=t,this.fontSizeChanged.emit(t),this.el.nativeElement.style.setProperty("font-size",t.toString()+"px"))},t.prototype.getFontSize=function(){return this.fontSize},t.prototype.calculateFontSize=function(t,e){return Math.floor(t/e)},t.prototype.checkOverflow=function(t,e){return this.hasXAxisOverflow(t,e)||this.hasYAxisOverflow(t,e)},t.prototype.hasXAxisOverflow=function(t,e){return e.scrollWidth-t.clientWidth>0},t.prototype.hasYAxisOverflow=function(t,e){return e.clientHeight-t.clientHeight>0},t.prototype.fit=function(){var t=this.el.nativeElement.parentNode.style.overflow,e=this.el.nativeElement.parentNode.parentNode.style.overflow;this.renderer.setStyle(this.el.nativeElement.parentNode,"overflow","hidden"),this.renderer.setStyle(this.el.nativeElement.parentNode.parentNode,"overflow","hidden"),this.done=!1,this.activateOnResize&&this.fittext&&(this.setFontSize(this.activateOnInputEvents&&this.fittext?this.getStartFontSizeFromHeight():this.getStartFontSizeFromWeight()),this.ngAfterViewInit()),this.renderer.setStyle(this.el.nativeElement.parentNode,"overflow",t),this.renderer.setStyle(this.el.nativeElement.parentNode.parentNode,"overflow",e)},t.prototype.ngOnInit=function(){this.done=!1,this.el.nativeElement.style.setProperty("will-change","content"),this.ngAfterViewInit()},t.prototype.ngAfterViewInit=function(){this.isVisible()&&!this.isDone()&&this.fittext&&(this.hasOverflow()?this.fontSize>this.minFontSize&&(this.setFontSize(this.calculateFontSize(this.fontSize,this.speed)),this.ngAfterViewInit()):this.done=!0)},t.prototype.ngOnChanges=function(t){var e=this;t.modelToWatch&&setTimeout(function(){e.done=!1,e.setFontSize(e.maxFontSize),e.ngAfterViewInit()})},t.prototype.ngAfterViewChecked=function(){this.fontSize>this.minFontSize&&(this.setFontSize(this.getStartFontSizeFromHeight()),this.ngAfterViewInit())},t.prototype.getStartFontSizeFromHeight=function(){return this.container?this.container.clientHeight:this.el.nativeElement.parentElement.clientHeight},t.prototype.getStartFontSizeFromWeight=function(){return this.container?this.container.clientWidth:this.el.nativeElement.parentElement.clientWidth},t.prototype.isDone=function(){return this.done},t.prototype.isVisible=function(){return this.getStartFontSizeFromHeight()>0},t.prototype.hasOverflow=function(){return this.checkOverflow(this.container?this.container:this.el.nativeElement.parentElement,this.el.nativeElement)},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](o.Renderer2))},t.\u0275dir=o["\u0275\u0275defineDirective"]({type:t,selectors:[["","fittext",""]],inputs:{fittext:"fittext",activateOnResize:"activateOnResize",container:"container",activateOnInputEvents:"activateOnInputEvents",minFontSize:"minFontSize",maxFontSize:"maxFontSize",modelToWatch:"modelToWatch"},outputs:{fontSizeChanged:"fontSizeChanged"},features:[o["\u0275\u0275NgOnChangesFeature"]]}),t}(),c=n("YLtl"),f=n("vbq7"),g=["textRef"];function p(t,e){if(1&t&&o["\u0275\u0275element"](0,"div",8),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngStyle",null==n.context.pluginConfig.config?null:n.context.pluginConfig.config.topLabelStyle)("innerHtml",n.sanitizedTopLabel,o["\u0275\u0275sanitizeHtml"])}}function u(t,e){if(1&t&&o["\u0275\u0275element"](0,"div",9),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngStyle",null==n.context.pluginConfig.config?null:n.context.pluginConfig.config.bottomLabelStyle)("innerHtml",n.sanitizedBottomLabel,o["\u0275\u0275sanitizeHtml"])}}function d(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"mat-icon"),o["\u0275\u0275text"](1," arrow_drop_down "),o["\u0275\u0275elementEnd"]())}function h(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"mat-icon"),o["\u0275\u0275text"](1," arrow_drop_up "),o["\u0275\u0275elementEnd"]())}function m(t,e){1&t&&o["\u0275\u0275element"](0,"div",13)}var v=function(t,e,n,i){return{down:t,up:e,anim:n,"transition-off":i}};function x(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",10),o["\u0275\u0275template"](1,d,2,0,"mat-icon",11),o["\u0275\u0275template"](2,h,2,0,"mat-icon",11),o["\u0275\u0275template"](3,m,1,0,"div",12),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction4"](4,v,n.indicator<0,n.indicator>0,n.animHelper,n.initialValue)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.indicator<0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.indicator>0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",0===n.indicator)}}var C=function(t,e,n,i,o){return{anim:t,"transition-off":e,down:n,up:i,"change-indicator":o}},y=function(){function t(t,e,n,i){this.sanitizer=t,this.cd=e,this.context=n,this.el=i,this.animHelper=!0,this.initialValue=!0,this.indicator=0}return t.prototype.ngOnInit=function(){var t,e=this;this.sanitize(),this.context.update$.pipe(Object(l.takeUntil)(this.context.destroy$)).subscribe(function(t){var n,i,o,r,l;if(t.compareResult.diff.value)if(null===(n=e.context.pluginConfig)||void 0===n?void 0:n.config.changeIndicator){var s=e.context.pluginConfig.value;e.indicator=s>e.sanitizedVal?1:s<e.sanitizedVal?-1:0,e.sanitizedVal=s,e.animHelper=!1,e.initialValue=!1,e.cd.detectChanges(),e.animHelper=!0}else e.sanitizedVal=e.sanitizer.bypassSecurityTrustHtml(e.context.pluginConfig.value);var c=Object(a.deepCompare)(null===(i=t.prevConfig)||void 0===i?void 0:i.config,null===(o=t.newConfig)||void 0===o?void 0:o.config);c.diff.bottomLabel&&(e.sanitizedBottomLabel=e.sanitizer.bypassSecurityTrustHtml(null===(r=e.context.pluginConfig.config)||void 0===r?void 0:r.bottomLabel)),c.diff.sanitizedTopLabel&&(e.sanitizedTopLabel=e.sanitizer.bypassSecurityTrustHtml(null===(l=e.context.pluginConfig.config)||void 0===l?void 0:l.topLabel)),e.cd.detectChanges(),e.fitRef.fit()});var n=null===(t=this.context.pluginConfig.config)||void 0===t?void 0:t.resizeDebounce;this.context.redraw$.pipe(Object(l.take)(1)).subscribe(function(t){e.fitRef.fit()}),this.context.redraw$.pipe(Object(l.debounceTime)(Object(c.isNil)(n)?100:n)).subscribe(function(t){e.fitRef.fit()})},t.prototype.sanitize=function(){var t,e,n;this.sanitizedVal=(null===(t=this.context.pluginConfig)||void 0===t?void 0:t.config.changeIndicator)?this.context.pluginConfig.value:this.sanitizer.bypassSecurityTrustHtml(this.context.pluginConfig.value),this.sanitizedBottomLabel=this.sanitizer.bypassSecurityTrustHtml(null===(e=this.context.pluginConfig.config)||void 0===e?void 0:e.bottomLabel),this.sanitizedTopLabel=this.sanitizer.bypassSecurityTrustHtml(null===(n=this.context.pluginConfig.config)||void 0===n?void 0:n.topLabel),this.cd.markForCheck()},t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnDestroy=function(){},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](r.DomSanitizer),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](a.PLUGIN_CONTEXT),o["\u0275\u0275directiveInject"](o.ElementRef))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-fittext"]],viewQuery:function(t,e){if(1&t&&(o["\u0275\u0275staticViewQuery"](g,!0),o["\u0275\u0275staticViewQuery"](g,!0,s)),2&t){var n=void 0;o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(e.textRef=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(e.fitRef=n.first)}},decls:8,vars:14,consts:[[1,"fitwrapper"],["class","toplabel",3,"ngStyle","innerHtml",4,"ngIf"],[1,"inner2",3,"ngStyle"],[1,"innerwrapper"],[1,"fittext",3,"fittext","activateOnResize","innerHtml","ngClass"],["textRef",""],["class","bottomlabel",3,"ngStyle","innerHtml",4,"ngIf"],["class","direction-indicator",3,"ngClass",4,"ngIf"],[1,"toplabel",3,"ngStyle","innerHtml"],[1,"bottomlabel",3,"ngStyle","innerHtml"],[1,"direction-indicator",3,"ngClass"],[4,"ngIf"],["class","dash",4,"ngIf"],[1,"dash"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275template"](1,p,1,2,"div",1),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275elementStart"](3,"div",3),o["\u0275\u0275element"](4,"div",4,5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](6,u,1,2,"div",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](7,x,4,9,"div",7)),2&t&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null!=(null==e.context.pluginConfig.config?null:e.context.pluginConfig.config.topLabel)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngStyle",null==e.context.pluginConfig.config?null:e.context.pluginConfig.config.innerStyle),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("fittext",!0)("activateOnResize",!0)("innerHtml",e.sanitizedVal,o["\u0275\u0275sanitizeHtml"])("ngClass",o["\u0275\u0275pureFunction5"](8,C,e.animHelper&&(null==e.context.pluginConfig||null==e.context.pluginConfig.config?null:e.context.pluginConfig.config.changeIndicator),e.initialValue,e.indicator<0,e.indicator>0,null==e.context.pluginConfig||null==e.context.pluginConfig.config?null:e.context.pluginConfig.config.changeIndicator)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",null!=(null==e.context.pluginConfig.config?null:e.context.pluginConfig.config.bottomLabel)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==e.context.pluginConfig.config?null:e.context.pluginConfig.config.changeIndicator))},directives:[i.NgIf,i.NgStyle,s,i.NgClass,f.MatIcon],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}[_nghost-%COMP%]   .direction-indicator[_ngcontent-%COMP%]{position:absolute;top:0;left:0;text-shadow:none;transition:color 0s,text-shadow 0s}[_nghost-%COMP%]   .direction-indicator[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}[_nghost-%COMP%]   .direction-indicator.transition-off[_ngcontent-%COMP%], [_nghost-%COMP%]   .direction-indicator.transition-off[_ngcontent-%COMP%]   .dash[_ngcontent-%COMP%]{transition:none!important}[_nghost-%COMP%]   .direction-indicator.anim[_ngcontent-%COMP%]{transition:color 2s 1s,text-shadow 2s 1s;text-shadow:0 0 10px rgba(var(--theme-background-300),0)!important;color:rgba(var(--theme-background-300),1)!important}[_nghost-%COMP%]   .direction-indicator.anim[_ngcontent-%COMP%]   .dash[_ngcontent-%COMP%]{transition:background-color 2s 1s;background-color:rgba(var(--theme-background-300),1)}[_nghost-%COMP%]   .direction-indicator.down[_ngcontent-%COMP%]{text-shadow:0 0 10px rgba(var(--theme-warn-400),1);color:rgba(var(--theme-warn-400),1)}[_nghost-%COMP%]   .direction-indicator.up[_ngcontent-%COMP%]{text-shadow:0 0 10px rgba(var(--theme-primary-400),1);color:rgba(var(--theme-primary-400),1)}[_nghost-%COMP%]   .direction-indicator[_ngcontent-%COMP%]   .dash[_ngcontent-%COMP%]{transition:background-color 0s;margin-left:8px;margin-top:8px;width:7px;height:2px;border-radius:5px;background-color:rgba(var(--theme-background-50),1)}[_nghost-%COMP%]   .toplabel[_ngcontent-%COMP%]{font-size:.85em}[_nghost-%COMP%]   .bottomlabel[_ngcontent-%COMP%], [_nghost-%COMP%]   .toplabel[_ngcontent-%COMP%]{opacity:.3;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .bottomlabel[_ngcontent-%COMP%]{font-size:.7em}[_nghost-%COMP%]   .fitwrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}[_nghost-%COMP%]   .fitwrapper[_ngcontent-%COMP%]   .inner2[_ngcontent-%COMP%]{color:rgba(var(--theme-foreground-500),1)}[_nghost-%COMP%]   .fitwrapper[_ngcontent-%COMP%]   .inner2[_ngcontent-%COMP%], [_nghost-%COMP%]   .fitwrapper[_ngcontent-%COMP%]   .innerwrapper[_ngcontent-%COMP%]{position:relative;flex:1;width:100%;display:flex;height:100%;max-width:100%;max-height:100%}[_nghost-%COMP%]   .fitwrapper[_ngcontent-%COMP%]   .innerwrapper[_ngcontent-%COMP%]{align-items:center;justify-content:center;text-align:center}[_nghost-%COMP%]   .fitwrapper[_ngcontent-%COMP%]   .innerwrapper[_ngcontent-%COMP%]   .fittext[_ngcontent-%COMP%]{white-space:nowrap;transition:text-shadow 0s;font-weight:400}[_nghost-%COMP%]   .fitwrapper[_ngcontent-%COMP%]   .innerwrapper[_ngcontent-%COMP%]   .fittext.change-indicator[_ngcontent-%COMP%]{text-shadow:0 0 20px rgba(var(--theme-foreground-500),1)!important}[_nghost-%COMP%]   .fitwrapper[_ngcontent-%COMP%]   .innerwrapper[_ngcontent-%COMP%]   .fittext.anim[_ngcontent-%COMP%]{transition:color 2s,text-shadow 2s;text-shadow:0 0 10px rgba(var(--theme-foreground-500),0);color:rgba(var(--theme-foreground-500),.8)!important}[_nghost-%COMP%]   .fitwrapper[_ngcontent-%COMP%]   .innerwrapper[_ngcontent-%COMP%]   .fittext.transition-off[_ngcontent-%COMP%]{transition:color 0s,text-shadow 0s!important}"],changeDetection:0}),t}(),b=function(){function t(){}return t.entry=y,t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.CommonModule,f.MatIconModule]]}),t}();e.default=b},YLtl:function(t,n){t.exports=e},aP7H:function(t,e){t.exports=n},cfyg:function(t,e){t.exports=i},"vG+p":function(t,e){t.exports=o},vOrQ:function(t,e){t.exports=r},vbq7:function(t,e){t.exports=a}})});