!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("adm.@angular/common"),require("adm.rxjs"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/core")):"function"==typeof define&&define.amd?define(["adm.@angular/common","adm.rxjs","adm.rxjs/operators","adm.shared","adm.@angular/core"],e):"object"==typeof exports?exports.matrix=e(require("adm.@angular/common"),require("adm.rxjs"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/core")):t.matrix=e(t["adm.@angular/common"],t["adm.rxjs"],t["adm.rxjs/operators"],t["adm.shared"],t["adm.@angular/core"])}("undefined"!=typeof self?self:this,function(t,e,i,o,n){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,(function(e){return t[e]}).bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/assets/plugins/matrix",i(i.s=0)}({0:function(t,e,i){t.exports=i("P+m1")},"0S4P":function(e,i){e.exports=t},"4fRq":function(t,e){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var o=new Uint8Array(16);t.exports=function(){return i(o),o}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},EcEN:function(t,e,i){var o=i("xDdU"),n=i("xk4V"),s=n;s.v1=o,s.v4=n,t.exports=s},I2ZF:function(t,e){for(var i=[],o=0;o<256;++o)i[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},"P+m1":function(t,e,i){"use strict";i.r(e),i.d(e,"MatrixModule",function(){return et});var o=i("vOrQ"),n=i("cfyg"),s=i("EcEN"),r=i("aP7H");function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var i,o=h(t);if(e){var n=h(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return c(this,i)}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function v(t,e){if(t){if("string"==typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(t,e):void 0}}function p(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t,e,i){return e&&p(t.prototype,e),i&&p(t,i),t}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var g=i("Vgaj"),y=i("0S4P"),C=function t(){w(this,t)},b=function t(){w(this,t)},R=function(){function t(e){var i=this;w(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){i.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var o=t.slice(0,e),n=o.toLowerCase(),s=t.slice(e+1).trim();i.maybeSetNormalizedName(o,n),i.headers.has(n)?i.headers.get(n).push(s):i.headers.set(n,[s])}})}:function(){i.headers=new Map,Object.keys(e).forEach(function(t){var o=e[t],n=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(i.headers.set(n,o),i.maybeSetNormalizedName(t,n))})}:this.headers=new Map}return m(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(i){e.headers.set(i,t.headers.get(i)),e.normalizedNames.set(i,t.normalizedNames.get(i))})}},{key:"clone",value:function(e){var i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}},{key:"applyUpdate",value:function(t){var e,i=t.name.toLowerCase();switch(t.op){case"a":case"s":var o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,i);var n=("a"===t.op?this.headers.get(i):void 0)||[];n.push.apply(n,function(t){if(Array.isArray(t))return d(t)}(e=o)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this.headers.set(i,n);break;case"d":var s=t.value;if(s){var r=this.headers.get(i);if(!r)return;0===(r=r.filter(function(t){return-1===s.indexOf(t)})).length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,r)}else this.headers.delete(i),this.normalizedNames.delete(i)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(i){return t(e.normalizedNames.get(i),e.headers.get(i))})}}]),t}(),k=function(){function t(){w(this,t)}return m(t,[{key:"encodeKey",value:function(t){return T(t)}},{key:"encodeValue",value:function(t){return T(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function x(t,e){var i=new Map;return t.length>0&&t.split("&").forEach(function(t){var o,n=t.indexOf("="),s=(2,function(t){if(Array.isArray(t))return t}(o=-1==n?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,n)),e.decodeValue(t.slice(n+1))])||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),2!==i.length);o=!0);}catch(l){n=!0,s=l}finally{try{o||null==a.return||a.return()}finally{if(n)throw s}}return i}}(o)||v(o,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=s[0],a=s[1],l=i.get(r)||[];l.push(a),i.set(r,l)}),i}function T(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var A=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(w(this,t),this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new k,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=x(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(function(t){var o=i.fromObject[t];e.map.set(t,Array.isArray(o)?o:[o])})):this.map=null}return m(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var i=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return i+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat([e]),i}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var i=("a"===e.op?t.map.get(e.param):void 0)||[];i.push(e.value),t.map.set(e.param,i);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var o=t.map.get(e.param)||[],n=o.indexOf(e.value);-1!==n&&o.splice(n,1),o.length>0?t.map.set(e.param,o):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function S(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function E(t){return"undefined"!=typeof Blob&&t instanceof Blob}function j(t){return"undefined"!=typeof FormData&&t instanceof FormData}var O=function(){function t(e,i,o,n){var s;if(w(this,t),this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==o?o:null,s=n):s=o,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.params&&(this.params=s.params)),this.headers||(this.headers=new R),this.params){var r=this.params.toString();if(0===r.length)this.urlWithParams=i;else{var a=i.indexOf("?");this.urlWithParams=i+(-1===a?"?":a<i.length-1?"&":"")+r}}else this.params=new A,this.urlWithParams=i}return m(t,[{key:"serializeBody",value:function(){return null===this.body?null:S(this.body)||E(this.body)||j(this.body)||"string"==typeof this.body?this.body:this.body instanceof A?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||j(this.body)?null:E(this.body)?this.body.type||null:S(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof A?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.method||this.method,o=e.url||this.url,n=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,r=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,l=e.headers||this.headers,h=e.params||this.params;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce(function(t,i){return t.set(i,e.setHeaders[i])},l)),e.setParams&&(h=Object.keys(e.setParams).reduce(function(t,i){return t.set(i,e.setParams[i])},h)),new t(i,o,s,{params:h,headers:l,reportProgress:a,responseType:n,withCredentials:r})}}]),t}(),P=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),U=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";w(this,t),this.headers=e.headers||new R,this.status=void 0!==e.status?e.status:i,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},I=function(t){l(i,t);var e=f(i);function i(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(this,i),(t=e.call(this,o)).type=P.ResponseHeader,t}return m(i,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),i}(U),D=function(t){l(i,t);var e=f(i);function i(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(this,i),(t=e.call(this,o)).type=P.Response,t.body=void 0!==o.body?o.body:null,t}return m(i,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),i}(U),N=function(t){l(i,t);var e=f(i);function i(t){var o;return w(this,i),(o=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",o.ok=!1,o.message=o.status>=200&&o.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),o.error=t.error||null,o}return i}(U);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function L(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var q=function(){var t=function(){function t(e){w(this,t),this.handler=e}return m(t,[{key:"request",value:function(t,e){var i,o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof O)i=t;else{var s=void 0;s=n.headers instanceof R?n.headers:new R(n.headers);var a=void 0;n.params&&(a=n.params instanceof A?n.params:new A({fromObject:n.params})),i=new O(t,e,void 0!==n.body?n.body:null,{headers:s,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var l=Object(g.of)(i).pipe(Object(r.concatMap)(function(t){return o.handler.handle(t)}));if(t instanceof O||"events"===n.observe)return l;var h=l.pipe(Object(r.filter)(function(t){return t instanceof D}));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return h.pipe(Object(r.map)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return h.pipe(Object(r.map)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return h.pipe(Object(r.map)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return h.pipe(Object(r.map)(function(t){return t.body}))}case"response":return h;default:throw new Error("Unreachable: unhandled observe type ".concat(n.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new A).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,L(i,e))}},{key:"post",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,L(i,e))}},{key:"put",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,L(i,e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](C))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),H=function(){function t(e,i){w(this,t),this.next=e,this.interceptor=i}return m(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),_=new o.InjectionToken("HTTP_INTERCEPTORS"),F=function(){var t=function(){function t(){w(this,t)}return m(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),M=/^\)\]\}',?\n/,z=function t(){w(this,t)},V=function(){var t=function(){function t(){w(this,t)}return m(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),B=function(){var t=function(){function t(e){w(this,t),this.xhrFactory=e}return m(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new g.Observable(function(i){var o=e.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach(function(t,e){return o.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var n=t.detectContentTypeHeader();null!==n&&o.setRequestHeader("Content-Type",n)}if(t.responseType){var s=t.responseType.toLowerCase();o.responseType="json"!==s?s:"text"}var r=t.serializeBody(),a=null,l=function(){if(null!==a)return a;var e=1223===o.status?204:o.status,i=o.statusText||"OK",n=new R(o.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||t.url;return a=new I({headers:n,status:e,statusText:i,url:s})},h=function(){var e=l(),n=e.headers,s=e.status,r=e.statusText,a=e.url,h=null;204!==s&&(h=void 0===o.response?o.responseText:o.response),0===s&&(s=h?200:0);var u=s>=200&&s<300;if("json"===t.responseType&&"string"==typeof h){var c=h;h=h.replace(M,"");try{h=""!==h?JSON.parse(h):null}catch(f){h=c,u&&(u=!1,h={error:f,text:h})}}u?(i.next(new D({body:h,headers:n,status:s,statusText:r,url:a||void 0})),i.complete()):i.error(new N({error:h,headers:n,status:s,statusText:r,url:a||void 0}))},u=function(t){var e=l(),n=new N({error:t,status:o.status||0,statusText:o.statusText||"Unknown Error",url:e.url||void 0});i.error(n)},c=!1,f=function(e){c||(i.next(l()),c=!0);var n={type:P.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),"text"===t.responseType&&o.responseText&&(n.partialText=o.responseText),i.next(n)},d=function(t){var e={type:P.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),i.next(e)};return o.addEventListener("load",h),o.addEventListener("error",u),t.reportProgress&&(o.addEventListener("progress",f),null!==r&&o.upload&&o.upload.addEventListener("progress",d)),o.send(r),i.next({type:P.Sent}),function(){o.removeEventListener("error",u),o.removeEventListener("load",h),t.reportProgress&&(o.removeEventListener("progress",f),null!==r&&o.upload&&o.upload.removeEventListener("progress",d)),o.readyState!==o.DONE&&o.abort()}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](z))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),K=new o.InjectionToken("XSRF_COOKIE_NAME"),W=new o.InjectionToken("XSRF_HEADER_NAME"),X=function t(){w(this,t)},J=function(){var t=function(){function t(e,i,o){w(this,t),this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return m(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(y["\u0275parseCookieValue"])(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](y.DOCUMENT),o["\u0275\u0275inject"](o.PLATFORM_ID),o["\u0275\u0275inject"](K))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),Q=function(){var t=function(){function t(e,i){w(this,t),this.tokenService=e,this.headerName=i}return m(t,[{key:"intercept",value:function(t,e){var i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return e.handle(t);var o=this.tokenService.getToken();return null===o||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,o)})),e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](X),o["\u0275\u0275inject"](W))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),$=function(){var t=function(){function t(e,i){w(this,t),this.backend=e,this.injector=i,this.chain=null}return m(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(_,[]);this.chain=e.reduceRight(function(t,e){return new H(t,e)},this.backend)}return this.chain.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](b),o["\u0275\u0275inject"](o.Injector))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),G=function(){var t=function(){function t(){w(this,t)}return m(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Q,useClass:F}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:K,useValue:e.cookieName}:[],e.headerName?{provide:W,useValue:e.headerName}:[]]}}}]),t}();return t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[Q,{provide:_,useExisting:Q,multi:!0},{provide:X,useClass:J},{provide:K,useValue:"XSRF-TOKEN"},{provide:W,useValue:"X-XSRF-TOKEN"}]}),t}(),Z=function(){var t=function t(){w(this,t)};return t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[q,{provide:C,useClass:$},B,{provide:b,useExisting:B},V,{provide:z,useExisting:V}],imports:[[G.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}(),Y=["matrixRef"],tt=function(){function t(t,e,i,o){this.context=t,this.cd=e,this.http=i,this.renderer=o,this.defaultSetup={visibleRow:30,visibleCol:20,latency:0,radius:0,distance:0,size:99},this.global=0,this.setup={},this.frameRow=1,this.frameCol=1,this.selectedRow=1,this.selectedCol=1,this.navigationRow=0,this.navigationCol=0,this.requestedFrameRow=0,this.requestedFrameCol=0,this.STATUS_UNKNOWN=-1,this.STATUS_VALID=0,this.STATUS_INVALID=1,this.STATUS_UPDATED=2,this.workerRow=0,this.workerCol=0,this.pendingUpdate=!1,this.pendingRequest=!1,this.writeCellCounter=0,this.cellData={},this.cellHeight=18,this.cellWidth=75,this.boundKeydownHandler=this.keydownHandler.bind(this),this.boundClick=this.click.bind(this),this.boundMousemove=this.mousemove.bind(this),this.timeouts=[]}return t.prototype.ngOnInit=function(){var t,e,i,o,n=this;this.context.update$.pipe(Object(r.takeUntil)(this.context.destroy$)).subscribe(function(t){}),this.idPrefix="admino_"+this.context.id+"_"+Object(s.v4)()+"_",this.cd.detectChanges(),this.onResize(),this.timerInterval=setInterval(function(){n.timer1()},1e3),this.setup=this.defaultSetup,(null===(e=null===(t=this.context.pluginConfig)||void 0===t?void 0:t.config)||void 0===e?void 0:e.setup)&&Object.assign(this.setup,null===(o=null===(i=this.context.pluginConfig)||void 0===i?void 0:i.config)||void 0===o?void 0:o.setup),this.updateVariables(),this.setupMatrix(),this.setupListeners(),this.initializeWorkerCells()},t.prototype.onFocus=function(){console.log("onFocus")},t.prototype.onBlur=function(){},t.prototype.onDestroy=function(){this.matrixRef.nativeElement.removeEventListener("keydown",this.boundKeydownHandler),clearInterval(this.timerInterval),this.clearTimeouts()},t.prototype.onResize=function(){this.viewportWidth=this.matrixRef.nativeElement.clientWidth,this.viewportHeight=this.matrixRef.nativeElement.clientHeight},t.prototype.clearTimeouts=function(){this.timeouts.forEach(function(t){clearTimeout(t)}),this.timeouts=[]},t.prototype.updateVariables=function(){this.visibleRow=this.setup.visibleRow,this.visibleCol=this.setup.visibleCol,this.latency=this.setup.latency,this.radius=this.setup.radius,this.distance=this.setup.distance,this.totalRow=this.setup.size,this.totalCol=this.setup.size,this.workerCellElements=new Array(this.visibleRow),this.workerCellStatus=new Array(this.visibleRow)},t.prototype.timer1=function(){console.log(Date.now()+" - "+this.format05d(this.global)+" cell/sec / cellWrite "+this.writeCellCounter),this.global=0},t.prototype.setupMatrix=function(){var t=document.getElementById(this.idPrefix+"matrixdiv");t.style.background="#7777BB",t.style.height=this.visibleRow*(this.cellHeight+1)+1+"px",t.style.width=this.visibleCol*(this.cellWidth+1)+1+"px",t.style.position="relative",t.style.overflow="hidden";for(var e="",i=0;i<this.visibleRow;i++)for(var o=0;o<this.visibleCol;o++)e+="<div id='"+this.idPrefix+i+":"+o+"' style='height:"+this.cellHeight+"px;width:"+this.cellWidth+"px;position:absolute;top:"+(1+i*(this.cellHeight+1))+"px;left:"+(1+o*(this.cellWidth+1))+"px;background:#999999;'></div>";t.innerHTML=e},t.prototype.setupListeners=function(){this.matrixRef.nativeElement.addEventListener("keydown",this.boundKeydownHandler),this.matrixRef.nativeElement.addEventListener("click",this.boundClick),this.matrixRef.nativeElement.addEventListener("mousemove",this.boundMousemove)},t.prototype.click=function(t){var e=this.matrixRef.nativeElement.getBoundingClientRect();console.log("click",t.clientX-e.left,t.clientY-e.top,t)},t.prototype.mousemove=function(t){var e=this.matrixRef.nativeElement.getBoundingClientRect(),i=t.clientX-e.left,o=t.clientY-e.top;console.log("mousemove",i,o,t),i<100&&o<100?this.renderer.setStyle(this.matrixRef.nativeElement,"cursor","grab"):this.renderer.removeStyle(this.matrixRef.nativeElement,"cursor")},t.prototype.keydownHandler=function(t){console.log("keydownHandler",t);var e=t.key;if(t.altKey)switch(e){case"Home":this.navigationCellAltHome();break;case"End":this.navigationCellAltEnd();break;case"PageDown":this.navigationCellAltPageDown();break;case"PageUp":this.navigationCellAltPageUp();break;case"ArrowDown":this.navigationCellAltDown();break;case"ArrowUp":this.navigationCellAltUp();break;case"ArrowRight":this.navigationCellAltRight();break;case"ArrowLeft":this.navigationCellAltLeft()}else switch(e){case"Home":this.navigationCellHome();break;case"End":this.navigationCellEnd();break;case"ArrowDown":this.navigationCellDown();break;case"ArrowUp":this.navigationCellUp();break;case"ArrowRight":this.navigationCellRight();break;case"ArrowLeft":this.navigationCellLeft();break;case"PageDown":this.navigationCellPageDown();break;case"PageUp":this.navigationCellPageUp();break;case" ":case"Enter":this.navagationCellClick()}},t.prototype.initializeWorkerCells=function(){for(var t=0;t<this.visibleRow;t++){this.workerCellStatus[t]=new Array(this.visibleCol),this.workerCellElements[t]=new Array(this.visibleCol);for(var e=0;e<this.visibleCol;e++)this.workerCellElements[t][e]=document.getElementById(this.idPrefix+t+":"+e),this.workerCellStatus[t][e]=this.STATUS_UNKNOWN}this.asyncRefreshMatrix()},t.prototype.requestData=function(){this.requestedFrameRow===this.frameRow&&this.requestedFrameCol===this.frameCol||this.pendingRequest||(this.requestedFrameRow=this.frameRow,this.requestedFrameCol=this.frameCol,this.pendingRequest=!0,console.log("Request data:"+this.requestedFrameRow+":"+this.requestedFrameCol+" / "+Date.now()),this.backendCall())},t.prototype.backendCall=function(){var t=this,e={requestedFrameRow:this.requestedFrameRow,requestedFrameCol:this.requestedFrameCol,visibleRow:this.visibleRow,visibleCol:this.visibleCol,latency:this.latency,radius:this.radius,size:this.totalRow},i=JSON.stringify(e);this.http.post(this.context.config.config.server+"/matrix",e,{headers:{"Content-Type":"application/json; charset=utf-8"}}).pipe(Object(r.takeUntil)(this.context.destroy$)).subscribe(function(e){try{var i=e.cellData,o=e.row0,n=e.row1,s=e.col0,r=e.col1;t.cellData={};for(var a=0,l=o;l<=n;l++)for(var h=s;h<=r;h++)t.cellData[l+":"+h]=i[a++];console.log("Response received"+e.area)}catch(u){t.cellData={},console.log("Response received, error: "+u)}t.pendingRequest=!1},function(e){console.log(e),t.pendingRequest=!1}),console.log("Request sent: "+i)},t.prototype.writeCell=function(t,e){if(this.writeCellCounter++,t+this.frameRow>this.totalRow||e+this.frameCol>this.totalCol)this.writeCellStyle(t,e,"font-size:10px;"),this.workerCellElements[t][e].innerHTML="empty",this.workerCellStatus[t][e]=this.STATUS_VALID;else{var i=this.cellData[t+this.frameRow+":"+(e+this.frameCol)];if(void 0===i)return this.workerCellStatus[t][e]=this.STATUS_INVALID,this.writeCellStyle(t,e,"font-size:9px;"),this.workerCellElements[t][e].innerHTML=t===this.navigationRow&&e===this.navigationCol?t+this.frameRow+":"+(e+this.frameCol):"\u29d6",void this.requestData();this.workerCellStatus[t][e]=this.STATUS_VALID,this.workerCellElements[t][e].innerHTML=i,this.writeCellStyle(t,e,"font-size:12px;"+((t+this.frameRow)%5==0||(e+this.frameCol)%5==0?"color:#004000;":""))}},t.prototype.writeCellStyle=function(t,e,i){var o=i+"height:"+this.cellHeight+"px;width:"+this.cellWidth+"px;";o+="position:absolute;top:"+(1+t*(this.cellHeight+1))+"px;left:"+(1+e*(this.cellWidth+1))+"px;",this.workerCellElements[t][e].style=o+=t+this.frameRow>this.totalRow||e+this.frameCol>this.totalCol?"background-color:#909090;":this.workerCellStatus[t][e]===this.STATUS_INVALID?t===this.navigationRow&&e===this.navigationCol?"background-color:#770077;color:#FFFF00":"background-color:#777777;":t===this.navigationRow&&e===this.navigationCol?this.workerCellStatus[t][e]===this.STATUS_INVALID?"background-color:#770077;color:#FFFF00":"background-color:#880000;":t+this.frameRow===this.selectedRow?e+this.frameCol===this.selectedCol?"background-color:#888800;":"background-color:#777700;":"background-color:#888888;"},t.prototype.format05d=function(t){var e=""+t;return"00000".substring(0,5-e.length)+e},t.prototype.navigationCellDown=function(){this.navigationRow+this.frameRow!==this.totalRow&&(this.navigationRow<this.visibleRow-1-this.distance||this.frameRow+this.visibleRow>this.totalRow?(this.navigationRow++,this.writeCell(this.navigationRow-1,this.navigationCol)):(this.frameRow++,this.invalidateAll()),this.writeCell(this.navigationRow,this.navigationCol))},t.prototype.navigationCellAltDown=function(){this.frameRow+this.visibleRow>this.totalRow||(this.frameRow++,this.invalidateAll(),this.writeCell(this.navigationRow,this.navigationCol))},t.prototype.navigationCellPageDown=function(){if(this.navigationRow+this.frameRow!==this.totalRow)if(this.navigationRow+this.frameRow+this.visibleRow-1>=this.totalRow)this.navigationCellEnd();else{if(this.navigationRow<this.visibleRow-1-this.distance){var t=this.navigationRow;this.navigationRow=this.visibleRow-1-this.distance,this.navigationRow+this.frameRow>this.totalRow&&(this.navigationRow=this.totalRow-this.frameRow),this.writeCell(t,this.navigationCol)}else if(this.frameRow+this.visibleRow-1+this.visibleRow-1<=this.totalRow)this.frameRow+=this.visibleRow-1,this.invalidateAll();else{t=this.navigationRow;var e=this.navigationRow+this.frameRow+this.visibleRow-1;e>this.totalRow&&(e=this.totalRow),this.frameRow=this.totalRow-this.visibleRow+1,this.navigationRow=e-this.frameRow,this.writeCell(t,this.navigationCol),this.invalidateAll()}this.writeCell(this.navigationRow,this.navigationCol)}},t.prototype.navigationCellAltPageDown=function(){if(this.navigationCol+this.frameCol!==this.totalCol)if(this.navigationCol+this.frameCol+this.visibleCol-1>=this.totalCol)this.navigationCellAltEnd();else{if(this.navigationCol<this.visibleCol-1-this.distance){var t=this.navigationCol;this.navigationCol=this.visibleCol-1-this.distance,this.navigationCol+this.frameCol>this.totalCol&&(this.navigationCol=this.totalCol-this.frameCol),this.writeCell(this.navigationRow,t)}else if(this.frameCol+this.visibleCol-1+this.visibleCol-1<=this.totalCol)this.frameCol+=this.visibleCol-1,this.invalidateAll();else{t=this.navigationCol;var e=this.navigationCol+this.frameCol+this.visibleCol-1;e>this.totalCol&&(e=this.totalCol),this.frameCol=this.totalCol-this.visibleCol+1,this.navigationCol=e-this.frameCol,this.writeCell(this.navigationRow,t),this.invalidateAll()}this.writeCell(this.navigationRow,this.navigationCol)}},t.prototype.navigationCellUp=function(){this.navigationRow+this.frameRow!==1&&(this.navigationRow>this.distance||1===this.frameRow?(this.navigationRow--,this.writeCell(this.navigationRow+1,this.navigationCol)):(this.frameRow--,this.invalidateAll()),this.writeCell(this.navigationRow,this.navigationCol))},t.prototype.navigationCellAltUp=function(){1!==this.frameRow&&(this.frameRow--,this.invalidateAll(),this.writeCell(this.navigationRow,this.navigationCol))},t.prototype.navigationCellPageUp=function(){if(this.navigationRow+this.frameRow!==1)if(this.navigationRow+this.frameRow-(this.visibleRow-1)<=1)this.navigationCellHome();else{if(this.navigationRow>this.distance){var t=this.navigationRow;this.navigationRow=this.distance,this.writeCell(t,this.navigationCol)}else if(this.frameRow-(this.visibleRow-1)>=1)this.frameRow-=this.visibleRow-1,this.invalidateAll();else{t=this.navigationRow;var e=this.navigationRow+this.frameRow-(this.visibleRow-1);e<0&&(e=0),this.frameRow=1,this.navigationRow=e-this.frameRow,this.writeCell(t,this.navigationCol),this.invalidateAll()}this.writeCell(this.navigationRow,this.navigationCol)}},t.prototype.navigationCellAltPageUp=function(){if(this.navigationCol+this.frameCol!==1)if(this.navigationCol+this.frameCol-(this.visibleCol-1)<=1)this.navigationCellAltHome();else{if(this.navigationCol>this.distance){var t=this.navigationCol;this.navigationCol=this.distance,this.writeCell(this.navigationRow,t)}else if(this.frameCol-(this.visibleCol-1)>=1)this.frameCol-=this.visibleCol-1,this.invalidateAll();else{t=this.navigationCol;var e=this.navigationCol+this.frameCol-(this.visibleCol-1);e<0&&(e=0),this.frameCol=1,this.navigationCol=e-this.frameCol,this.writeCell(this.navigationRow,t),this.invalidateAll()}this.writeCell(this.navigationRow,this.navigationCol)}},t.prototype.navigationCellRight=function(){this.navigationCol+this.frameCol!==this.totalCol&&(this.navigationCol<this.visibleCol-1-this.distance||this.frameCol+this.visibleCol>this.totalCol?(this.navigationCol++,this.writeCell(this.navigationRow,this.navigationCol-1)):(this.frameCol++,this.invalidateAll()),this.writeCell(this.navigationRow,this.navigationCol))},t.prototype.navigationCellAltRight=function(){this.frameCol+this.visibleCol>this.totalCol||(this.frameCol++,this.invalidateAll(),this.writeCell(this.navigationRow,this.navigationCol))},t.prototype.navigationCellLeft=function(){this.navigationCol+this.frameCol!==1&&(this.navigationCol>this.distance||1===this.frameCol?(this.navigationCol--,this.writeCell(this.navigationRow,this.navigationCol+1)):(this.frameCol--,this.invalidateAll()),this.writeCell(this.navigationRow,this.navigationCol))},t.prototype.navigationCellAltLeft=function(){1!==this.frameCol&&(this.frameCol--,this.invalidateAll(),this.writeCell(this.navigationRow,this.navigationCol))},t.prototype.navigationCellHome=function(){if(this.frameRow+this.navigationRow!==1){var t=this.navigationRow;1!==this.frameRow?(this.navigationRow=0,this.frameRow=1,this.invalidateAll()):this.navigationRow=0,this.writeCell(t,this.navigationCol),this.writeCell(this.navigationRow,this.navigationCol)}},t.prototype.navigationCellAltHome=function(){if(this.frameCol+this.navigationCol!==1){var t=this.navigationCol;1!==this.frameCol?(this.navigationCol=0,this.frameCol=1,this.invalidateAll()):this.navigationCol=0,this.writeCell(this.navigationRow,t),this.writeCell(this.navigationRow,this.navigationCol)}},t.prototype.navigationCellEnd=function(){if(this.frameRow+this.navigationRow!==this.totalRow){var t=this.navigationRow;this.frameRow+this.visibleRow-1>=this.totalRow?this.navigationRow=this.totalRow-this.frameRow:(this.frameRow=this.totalRow-this.visibleRow+1,this.frameRow<1&&(this.frameRow=1),this.navigationRow=this.totalRow-this.frameRow,this.invalidateAll()),this.writeCell(t,this.navigationCol),this.writeCell(this.navigationRow,this.navigationCol)}},t.prototype.navigationCellAltEnd=function(){if(this.frameCol+this.navigationCol!==this.totalCol){var t=this.navigationCol;this.frameCol+this.visibleCol-1>=this.totalCol?this.navigationCol=this.totalCol-this.frameCol:(this.frameCol=this.totalCol-this.visibleCol+1,this.frameCol<1&&(this.frameCol=1),this.navigationCol=this.totalCol-this.frameCol,this.invalidateAll()),this.writeCell(this.navigationRow,t),this.writeCell(this.navigationRow,this.navigationCol)}},t.prototype.navagationCellClick=function(){if(this.workerCellStatus[this.navigationRow][this.navigationCol]===this.STATUS_VALID){if(this.selectedRow===this.navigationRow+this.frameRow&&this.selectedCol===this.navigationCol+this.frameCol)return;if(this.selectedRow!==this.navigationRow+this.frameRow){if(this.frameRow<=this.selectedRow&&this.selectedRow<this.frameRow+this.visibleRow)for(var t=this.selectedRow-this.frameRow,e=0;e<this.visibleCol;e++)this.workerCellStatus[t][e]=this.STATUS_UPDATED;for(e=0;e<this.visibleCol;e++)this.workerCellStatus[this.navigationRow][e]=this.STATUS_UPDATED;this.updateTable()}this.selectedCol!==this.navigationCol+this.frameCol&&this.frameCol<=this.selectedCol&&this.selectedCol<this.frameCol+this.visibleCol&&this.frameRow<=this.selectedRow&&this.selectedRow<this.frameRow+this.visibleRow&&(this.workerCellStatus[this.selectedRow-this.frameRow][this.selectedCol-this.frameCol]=this.STATUS_UPDATED,this.updateTable()),this.selectedRow=this.navigationRow+this.frameRow,this.selectedCol=this.navigationCol+this.frameCol,this.writeCell(this.navigationRow,this.navigationCol)}},t.prototype.isAllValid=function(){for(var t=0;t<this.visibleRow;t++)for(var e=0;e<this.visibleCol;e++)if(this.workerCellStatus[t][e]!==this.STATUS_VALID)return!1;return!0},t.prototype.invalidateAll=function(){for(var t=0;t<this.visibleRow;t++)for(var e=0;e<this.visibleCol;e++)this.workerCellStatus[t][e]=this.STATUS_INVALID;this.updateTable()},t.prototype.updateTable=function(){var t=this;if(!this.pendingUpdate){this.pendingUpdate=!0;var e=setTimeout(function(){t.asyncRefreshMatrix(),t.timeouts.splice(t.timeouts.indexOf(e),1)},0);this.timeouts.push(e)}},t.prototype.asyncRefreshMatrix=function(){var t=this,e=Date.now();do{for(var i=0;i<10;i++)if(this.workerCellStatus[this.workerRow][this.workerCol]!==this.STATUS_VALID&&(this.writeCell(this.workerRow,this.workerCol),this.global++),++this.workerCol>=this.visibleCol&&(this.workerCol=0,++this.workerRow>=this.visibleRow&&(this.workerRow=0,this.isAllValid())))return this.pendingUpdate=!1,void console.log("update done")}while(Date.now()-e<5);this.pendingUpdate=!0;var o=setTimeout(function(){t.asyncRefreshMatrix(),t.timeouts.splice(t.timeouts.indexOf(o),1)},0);this.timeouts.push(o)},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](n.PLUGIN_CONTEXT),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](q),o["\u0275\u0275directiveInject"](o.Renderer2))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-matrix"]],viewQuery:function(t,e){var i;1&t&&o["\u0275\u0275staticViewQuery"](Y,!0),2&t&&o["\u0275\u0275queryRefresh"](i=o["\u0275\u0275loadQuery"]())&&(e.matrixRef=i.first)},decls:3,vars:1,consts:[[1,"wrapper"],["matrixRef",""],["data-focus-target","","tabindex","0",1,"matrix",3,"id"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0,1),o["\u0275\u0275element"](2,"div",2),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("id",e.idPrefix+"matrixdiv"))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;pointer-events:none}.wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]{width:100%;position:relative}.wrapper[_ngcontent-%COMP%]{flex:1;overflow:hidden}.wrapper[_ngcontent-%COMP%]   .fakescroller[_ngcontent-%COMP%]{width:70px;height:100%;right:0;position:absolute;overflow:hidden;overflow-x:auto;overflow-y:auto}.testdiv[_ngcontent-%COMP%]{width:42px;height:42px;position:absolute;background-color:red;right:-25px;top:-25px}.matrix[_ngcontent-%COMP%]{pointer-events:all;height:100%;width:100%;z-index:-1}"]}),t}(),et=function(){function t(){}return t.entry=tt,t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[y.CommonModule,Z]]}),t}();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */e.default=et},Vgaj:function(t,i){t.exports=e},aP7H:function(t,e){t.exports=i},cfyg:function(t,e){t.exports=o},vOrQ:function(t,e){t.exports=n},xDdU:function(t,e,i){var o,n,s=i("4fRq"),r=i("I2ZF"),a=0,l=0;t.exports=function(t,e,i){var h=e&&i||0,u=e||[],c=(t=t||{}).node||o,f=void 0!==t.clockseq?t.clockseq:n;if(null==c||null==f){var d=s();null==c&&(c=o=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=n=16383&(d[6]<<8|d[7]))}var v=void 0!==t.msecs?t.msecs:(new Date).getTime(),p=void 0!==t.nsecs?t.nsecs:l+1,m=v-a+(p-l)/1e4;if(m<0&&void 0===t.clockseq&&(f=f+1&16383),(m<0||v>a)&&void 0===t.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=v,l=p,n=f;var w=(1e4*(268435455&(v+=122192928e5))+p)%4294967296;u[h++]=w>>>24&255,u[h++]=w>>>16&255,u[h++]=w>>>8&255,u[h++]=255&w;var g=v/4294967296*1e4&268435455;u[h++]=g>>>8&255,u[h++]=255&g,u[h++]=g>>>24&15|16,u[h++]=g>>>16&255,u[h++]=f>>>8|128,u[h++]=255&f;for(var y=0;y<6;++y)u[h+y]=c[y];return e||r(u)}},xk4V:function(t,e,i){var o=i("4fRq"),n=i("I2ZF");t.exports=function(t,e,i){var s=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var a=0;a<16;++a)e[s+a]=r[a];return e||n(r)}}})});