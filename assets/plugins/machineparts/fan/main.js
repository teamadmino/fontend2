!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("adm.@angular/common"),require("adm.rxjs"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/core")):"function"==typeof define&&define.amd?define(["adm.@angular/common","adm.rxjs","adm.rxjs/operators","adm.shared","adm.@angular/core"],e):"object"==typeof exports?exports["machineparts/fan"]=e(require("adm.@angular/common"),require("adm.rxjs"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/core")):n["machineparts/fan"]=e(n["adm.@angular/common"],n["adm.rxjs"],n["adm.rxjs/operators"],n["adm.shared"],n["adm.@angular/core"])}("undefined"!=typeof self?self:this,function(n,e,t,r,a){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return n[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)t.d(r,a,(function(e){return n[e]}).bind(null,a));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="/assets/plugins/machineparts/fan/",t(t.s=0)}({0:function(n,e,t){n.exports=t("P+m1")},"0S4P":function(e,t){e.exports=n},"P+m1":function(n,e,t){"use strict";t.r(e),t.d(e,"MachinepartsFanModule",function(){return h});var r=t("vOrQ"),a=t("Vgaj"),o=t("aP7H"),i=t("cfyg"),c=t("0S4P"),d=["fanRef"],l=["fanCover"],f=["fanWrapper"];function u(n,e){if(1&n&&(r["\u0275\u0275elementStart"](0,"div",19),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&n){var t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",null==t.context.pluginConfig.config?null:t.context.pluginConfig.config.percent,"%")}}function s(n,e){if(1&n&&(r["\u0275\u0275elementStart"](0,"div",16),r["\u0275\u0275elementStart"](1,"div",17),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,u,2,1,"div",18),r["\u0275\u0275elementEnd"]()),2&n){var t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",null==t.context.pluginConfig.config?null:t.context.pluginConfig.config.label," "),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",void 0!==(null==t.context.pluginConfig.config?null:t.context.pluginConfig.config.percent))}}var g=function(n){return{fanactive:n}},p=function(n){return[n]},b=function(n){return{active:n}},m=function(){function n(n,e,t){var r=this;this.el=n,this.context=e,this.renderer=t,this.ngUnsubscribe=new a.Subject,this.roundedFanSpeed=0,this.context.redraw$.pipe(Object(o.takeUntil)(this.ngUnsubscribe)).subscribe(function(n){r.recalculate()}),this.context.redraw$.pipe(Object(o.takeUntil)(this.ngUnsubscribe),Object(o.debounceTime)(500)).subscribe(function(n){r.recalculate()}),this.context.update$.pipe(Object(o.takeUntil)(this.context.destroy$)).subscribe(function(n){r.updateRoundedFanSpeed()}),this.updateRoundedFanSpeed(),console.log(this.roundedFanSpeed)}return n.prototype.updateRoundedFanSpeed=function(){this.roundedFanSpeed=this.context.pluginConfig.config.percent?Math.round(this.context.pluginConfig.config.percent/10):0},n.prototype.recalculate=function(){var n=this.fanWrapper.nativeElement.clientWidth,e=this.fanWrapper.nativeElement.clientHeight,t=n>e?e:n;this.renderer.setStyle(this.fanRef.nativeElement,"width",t+"px"),this.renderer.setStyle(this.fanRef.nativeElement,"height",t+"px"),this.renderer.setStyle(this.fanCover.nativeElement,"box-shadow","inset 0px "+t/15+"px "+t/10+"px  "+t/7+"px rgba(var(--theme-background-700), 0.3)")},n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){},n.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},n.\u0275fac=function(e){return new(e||n)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](i.PLUGIN_CONTEXT),r["\u0275\u0275directiveInject"](r.Renderer2))},n.\u0275cmp=r["\u0275\u0275defineComponent"]({type:n,selectors:[["app-machineparts-fan"]],viewQuery:function(n,e){if(1&n&&(r["\u0275\u0275staticViewQuery"](d,!0),r["\u0275\u0275staticViewQuery"](l,!0),r["\u0275\u0275staticViewQuery"](f,!0)),2&n){var t=void 0;r["\u0275\u0275queryRefresh"](t=r["\u0275\u0275loadQuery"]())&&(e.fanRef=t.first),r["\u0275\u0275queryRefresh"](t=r["\u0275\u0275loadQuery"]())&&(e.fanCover=t.first),r["\u0275\u0275queryRefresh"](t=r["\u0275\u0275loadQuery"]())&&(e.fanWrapper=t.first)}},decls:16,vars:13,consts:[[1,"fanwrapper",3,"ngClass"],["fanWrapper",""],[1,"fanlabel"],[1,"fan"],["fanRef",""],[1,"fanblades",3,"ngClass"],[1,"fanblade1"],[1,"fanblade2"],[1,"fanblade3"],[1,"fanblade4"],[1,"fancenter"],[1,"fancover"],["fanCover",""],["class","adm-card-label",4,"ngIf"],[1,"adm-light",3,"ngClass"],[1,"adm-lightsource",3,"ngClass"],[1,"adm-card-label"],[1,"text"],["class","value",4,"ngIf"],[1,"value"]],template:function(n,e){1&n&&(r["\u0275\u0275elementStart"](0,"div",0,1),r["\u0275\u0275element"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3,4),r["\u0275\u0275elementStart"](5,"div",5),r["\u0275\u0275element"](6,"div",6),r["\u0275\u0275element"](7,"div",7),r["\u0275\u0275element"](8,"div",8),r["\u0275\u0275element"](9,"div",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](10,"div",10),r["\u0275\u0275element"](11,"div",11,12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](13,s,4,2,"div",13),r["\u0275\u0275elementStart"](14,"div",14),r["\u0275\u0275element"](15,"div",15),r["\u0275\u0275elementEnd"]()),2&n&&(r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](5,g,(null==e.context.pluginConfig.config?null:e.context.pluginConfig.config.percent)>0)),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](7,p,"adm-rotate-"+e.roundedFanSpeed)),r["\u0275\u0275advance"](8),r["\u0275\u0275property"]("ngIf",null==e.context.pluginConfig.config?null:e.context.pluginConfig.config.label),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](9,b,(null==e.context.pluginConfig.config?null:e.context.pluginConfig.config.percent)>0)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](11,p,"adm-flicker-"+e.roundedFanSpeed)))},directives:[c.NgClass,c.NgIf],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]{flex:1;width:100%;height:100%;position:relative;display:block;overflow:hidden}[_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;position:relative;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);background:rgba(var(--theme-background-600),1);box-shadow:-1px 1px 2px rgba(var(--theme-background-200),.5)}[_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fancover[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:0;position:absolute;border-radius:50%;display:inline-block;z-index:1}[_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fancenter[_ngcontent-%COMP%]{width:10%;height:10%;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(var(--theme-background-400),1)}[_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fanblades[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(45deg)}[_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fanblades[_ngcontent-%COMP%]   .fanblade1[_ngcontent-%COMP%], [_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fanblades[_ngcontent-%COMP%]   .fanblade2[_ngcontent-%COMP%], [_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fanblades[_ngcontent-%COMP%]   .fanblade3[_ngcontent-%COMP%], [_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fanblades[_ngcontent-%COMP%]   .fanblade4[_ngcontent-%COMP%]{background-color:rgba(var(--theme-background-500),1);background:linear-gradient(0deg,rgba(var(--theme-background-500),1),rgba(var(--theme-background-500),0));width:40%;height:40%;border-radius:50%;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}[_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fanblades[_ngcontent-%COMP%]   .fanblade1[_ngcontent-%COMP%]{transform:translateX(-90%) translateY(-90%);background:linear-gradient(1turn,rgba(var(--theme-background-300),0),rgba(var(--theme-background-300),1))}[_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fanblades[_ngcontent-%COMP%]   .fanblade2[_ngcontent-%COMP%]{transform:translateX(-10%) translateY(-90%);background:linear-gradient(90deg,rgba(var(--theme-background-300),0),rgba(var(--theme-background-300),1))}[_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fanblades[_ngcontent-%COMP%]   .fanblade3[_ngcontent-%COMP%]{transform:translateX(-10%) translateY(-10%);background:linear-gradient(180deg,rgba(var(--theme-background-300),0),rgba(var(--theme-background-300),1))}[_nghost-%COMP%]   .fanwrapper[_ngcontent-%COMP%]   .fan[_ngcontent-%COMP%]   .fanblades[_ngcontent-%COMP%]   .fanblade4[_ngcontent-%COMP%]{transform:translateX(-90%) translateY(-10%);background:linear-gradient(270deg,rgba(var(--theme-background-300),0),rgba(var(--theme-background-300),1))}"]}),n}(),h=function(){function n(){}return n.entry=m,n.\u0275mod=r["\u0275\u0275defineNgModule"]({type:n}),n.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||n)},imports:[[c.CommonModule]]}),n}();e.default=h},Vgaj:function(n,t){n.exports=e},aP7H:function(n,e){n.exports=t},cfyg:function(n,e){n.exports=r},vOrQ:function(n,e){n.exports=a}})});