!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("adm.@angular/common"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/core")):"function"==typeof define&&define.amd?define(["adm.@angular/common","adm.rxjs/operators","adm.shared","adm.@angular/core"],e):"object"==typeof exports?exports.smartscroller=e(require("adm.@angular/common"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/core")):t.smartscroller=e(t["adm.@angular/common"],t["adm.rxjs/operators"],t["adm.shared"],t["adm.@angular/core"])}("undefined"!=typeof self?self:this,(function(t,e,n,o){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,(function(e){return t[e]}).bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/assets/plugins/smartscroller",n(n.s=0)}({0:function(t,e,n){t.exports=n("zUnb")},"0S4P":function(e,n){e.exports=t},aP7H:function(t,n){t.exports=e},cfyg:function(t,e){t.exports=n},vOrQ:function(t,e){t.exports=o},zUnb:function(t,e,n){"use strict";n.r(e),n.d(e,"SmartscrollerModule",(function(){return m}));var o=n("vOrQ"),r=n("cfyg"),i=n("aP7H"),a=n("0S4P"),s=["canvasRef"];function l(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.currentStartY.toFixed(1))}}function c(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",8),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.currentEndY.toFixed(1))}}function d(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",4),o["\u0275\u0275template"](1,l,2,1,"div",5),o["\u0275\u0275template"](2,c,2,1,"div",6),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",void 0!==n.currentStartY),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",void 0!==n.currentEndY)}}function u(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.currentStartX.toFixed(1))}}function f(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",8),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.currentEndX.toFixed(1))}}function h(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",9),o["\u0275\u0275template"](1,u,2,1,"div",5),o["\u0275\u0275template"](2,f,2,1,"div",6),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",void 0!==n.currentStartX),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",void 0!==n.currentEndX)}}var g=function(t,e,n){return{dragging:t,vertical:e,both:n}},p=function(){function t(t,e){this.context=t,this.el=e,this.minX=0,this.maxX=1,this.minY=0,this.maxY=1,this.orientation="horizontal",this.zoomX=1,this.zoomY=1,this.pos={x:0,y:0},this.posStart={x:0,y:0},this.dragPos={x:0,y:0,deltaX:0,deltaY:0},this.isDragging=!1,this.axisXInfo={},this.axisYInfo={}}return t.prototype.onWheel=function(t){var e=this,n=this.el.nativeElement.getBoundingClientRect(),o=function(o,r,i,a,s,l){var c=("x"===o?t.clientX-n.left:t.clientY-n.top)/s,d=r+(i-r)*c,u=t.deltaY<0?1.2:100/120,f=e["zoom"+o.toUpperCase()]*u;e["zoom"+o.toUpperCase()]=f<1?1:f>a?a:f;var h=a/e["zoom"+o.toUpperCase()],g=d-h*c,p=g+h;e.pos[o]=s/h*-(g<0?0:p>a?g-p+a:g)};o("x",this.currentStartX,this.currentEndX,this.maxX,this.el.nativeElement.offsetWidth),o("y",this.currentStartY,this.currentEndY,this.maxY,this.el.nativeElement.offsetHeight),this.redraw()},t.prototype.dragStart=function(t){this.dragPos.x=t.clientX,this.dragPos.y=t.clientY,Object.assign(this.posStart,this.pos),this.isDragging=!0},t.prototype.drag=function(t){this.isDragging&&(this.dragPos.deltaX=t.clientX-this.dragPos.x,this.dragPos.deltaY=t.clientY-this.dragPos.y,this.pos.x=this.posStart.x+this.dragPos.deltaX,this.pos.y=this.posStart.y+this.dragPos.deltaY,this.redraw())},t.prototype.dragEnd=function(t){this.isDragging=!1},t.prototype.click=function(t){this.isDragging=!1},t.prototype.ngOnInit=function(){var t=this;this.context.update$.pipe(Object(i.takeUntil)(this.context.destroy$)).subscribe((function(e){t.updateComputedStyles()})),this.context.contentSizeChanged$.pipe(Object(i.takeUntil)(this.context.destroy$)).subscribe((function(e){t.redraw()})),this.updateComputedStyles()},t.prototype.updateComputedStyles=function(){this.style=window.getComputedStyle(this.el.nativeElement)},t.prototype.ngAfterViewInit=function(){this.init()},t.prototype.init=function(){var t,e,n,o,r,i;this.minX=null===(t=this.context.pluginConfig)||void 0===t?void 0:t.config.minX,this.maxX=null===(e=this.context.pluginConfig)||void 0===e?void 0:e.config.maxX,this.minY=null===(n=this.context.pluginConfig)||void 0===n?void 0:n.config.minY,this.maxY=null===(o=this.context.pluginConfig)||void 0===o?void 0:o.config.maxY,(null===(r=this.context.pluginConfig)||void 0===r?void 0:r.config.orientation)&&(this.orientation=null===(i=this.context.pluginConfig)||void 0===i?void 0:i.config.orientation)},t.prototype.redraw=function(){var t=this,e=this.canvasRef.nativeElement.getContext("2d"),n=this.el.nativeElement.offsetWidth,o=this.el.nativeElement.offsetHeight;this.canvasRef.nativeElement.width=n,this.canvasRef.nativeElement.height=o,e.clearRect(0,0,n,o);var r=function(r,i,a,s,l,c){for(var d=(a-i)/c,u=Math.floor(s/50),f=1,h=1;!(d/(h*f)<=u);)5===h?(h=1,f*=10):h=2===h?5:2;var g=h*f,p=d/(h*f),m=Math.ceil(p),v=s/p;t.pos[r]=l=l>0?0:l;var x=p*c*v-s;t.pos[r]=l=l<-x?-x:l;var y=-l/s*d+i,C=-(l-s)/s*d+i;t["currentStart"+r.toUpperCase()]=y,t["currentEnd"+r.toUpperCase()]=C,e.beginPath(),e.fillStyle="rgba("+t.style.getPropertyValue("--theme-background-800")+",0.2)";var P=(y-i)/a*s,O=C/a*s;"x"===r?e.rect(P,0,O-P,o):e.rect(0,P,n,O-P),e.fill();for(var M=0;M<m;M++){var b=l+M*v,_=Math.ceil(-b/(m*v)),S=M*g+_*m*g;b<-Math.ceil(m*v)%s&&(b+=m*v*_),e.beginPath(),e.fillStyle="rgba("+t.style.getPropertyValue("--theme-foreground-300")+",0.2)","x"===r?e.rect(b,0,1,o):e.rect(0,b,n,1),e.fill(),e.font="10px "+t.style.fontFamily,e.fillStyle=t.style.color,e.textAlign="center",e.textBaseline="middle",S%5==0&&("x"===r?e.fillText(S.toFixed(1),b,o/2):e.fillText(S.toFixed(1),n/2-5,b+5))}return{axis:r,optimalNumOfDashes:u,numberOfDashes:m,stepSize:g,num:d,downscaledNum:p,space:v,start:y,end:C,zoom:c}};"horizontal"===this.orientation?this.axisXInfo=r("x",this.minX,this.maxX,n,this.pos.x,this.zoomX):("vertical"===this.orientation||(this.axisXInfo=r("x",this.minX,this.maxX,n,this.pos.x,this.zoomX)),this.axisYInfo=r("y",this.minY,this.maxY,o,this.pos.y,this.zoomY))},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](r.PLUGIN_CONTEXT),o["\u0275\u0275directiveInject"](o.ElementRef))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-smartscroller"]],viewQuery:function(t,e){var n;1&t&&o["\u0275\u0275staticViewQuery"](s,!0),2&t&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(e.canvasRef=n.first)},hostBindings:function(t,e){1&t&&o["\u0275\u0275listener"]("wheel",(function(t){return e.onWheel(t)}))("mousedown",(function(t){return e.dragStart(t)}))("mousemove",(function(t){return e.drag(t)}),!1,o["\u0275\u0275resolveWindow"])("mouseup",(function(t){return e.dragEnd(t)}),!1,o["\u0275\u0275resolveWindow"])("click",(function(t){return e.click(t)}),!1,o["\u0275\u0275resolveWindow"])},decls:5,vars:7,consts:[[1,"smartscroller",3,"ngClass"],["canvasRef",""],["class","vertical",4,"ngIf"],["class","horizontal",4,"ngIf"],[1,"vertical"],["class","start",4,"ngIf"],["class","end",4,"ngIf"],[1,"start"],[1,"end"],[1,"horizontal"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275element"](1,"canvas",null,1),o["\u0275\u0275template"](3,d,3,2,"div",2),o["\u0275\u0275template"](4,h,3,2,"div",3),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction3"](3,g,e.isDragging,"vertical"===e.orientation,"both"===e.orientation)),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf","vertical"===e.orientation||"both"===e.orientation),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","horizontal"===e.orientation||"both"===e.orientation))},directives:[a.NgClass,a.NgIf],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{position:absolute;top:100%}[_nghost-%COMP%]   .smartscroller[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;border-radius:3px;border:1px solid rgba(var(--theme-foreground-300),.2);overflow:hidden}[_nghost-%COMP%]   .smartscroller.dragging[_ngcontent-%COMP%]{cursor:move}[_nghost-%COMP%]   .smartscroller[_ngcontent-%COMP%]   .horizontal[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{height:100%;min-width:2px}[_nghost-%COMP%]   .smartscroller[_ngcontent-%COMP%]   .vertical[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{width:100%;min-height:2px}[_nghost-%COMP%]   .smartscroller[_ngcontent-%COMP%]   .horizontal[_ngcontent-%COMP%], [_nghost-%COMP%]   .smartscroller[_ngcontent-%COMP%]   .vertical[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:space-between;align-items:flex-start}[_nghost-%COMP%]   .smartscroller[_ngcontent-%COMP%]   .vertical[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   .smartscroller[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%], [_nghost-%COMP%]   .smartscroller[_ngcontent-%COMP%]   .start[_ngcontent-%COMP%]{font-size:.7em}[_nghost-%COMP%]   .smartscroller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{z-index:2}[_nghost-%COMP%]   .smartscroller[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{background:rgba(var(--theme-background-300),.2);position:absolute;width:100%;height:100%}"]}),t}(),m=function(){function t(){}return t.entry=p,t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[a.CommonModule]]}),t}();e.default=m}})}));